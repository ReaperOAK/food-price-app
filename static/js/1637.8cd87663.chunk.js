"use strict";(self.webpackChunkfood_price_app=self.webpackChunkfood_price_app||[]).push([[1637],{1637:(e,t,a)=>{a.d(t,{A:()=>u});var o=a(9379),r=a(3986),s=a(9950),l=a(9430),n=a(4414);const i=["children"],c=["children"],d=(0,s.memo)((0,s.forwardRef)(((e,t)=>{let{options:a,selectedCity:d,selectedState:u,handleChange:p,isLoading:h,error:x,selectStyles:f,onFocus:g,onBlur:y,isSearchFocused:m}=e;const b=(0,s.useMemo)((()=>{if(!d&&!u)return null;for(const t of a){var e;if(t.options){const e=t.options.find((e=>e.value.toLowerCase()===(d||"").toLowerCase()));if(e)return e}else if((null===(e=t.value)||void 0===e?void 0:e.toLowerCase())===(d||"").toLowerCase())return t}return null}),[d,u,a]),v=(0,s.useMemo)((()=>({IndicatorSeparator:()=>null,LoadingMessage:()=>(0,n.jsxs)("div",{className:"p-2 text-center text-gray-600 dark:text-gray-400",children:[(0,n.jsx)("span",{className:"inline-block animate-spin mr-2",children:"\u27f3"}),"Loading locations..."]}),NoOptionsMessage:e=>(0,n.jsx)("div",{className:"p-2 text-center text-gray-600 dark:text-gray-400",children:x?"Error loading locations":"No locations found"}),Group:e=>{let{children:t}=e,a=(0,r.A)(e,i);return(0,n.jsxs)("div",{className:"py-1",children:[(0,n.jsx)("div",{className:"px-3 py-2 text-sm font-semibold text-gray-700 dark:text-gray-300",children:a.data.label}),t]})},Option:e=>{let{children:t}=e,a=(0,r.A)(e,c);return(0,n.jsx)("div",(0,o.A)((0,o.A)({},a.innerProps),{},{className:"\n          px-3 py-2 cursor-pointer text-gray-700 dark:text-gray-300\n          ".concat(a.isFocused?"bg-blue-50 dark:bg-blue-900/20":"","\n          ").concat(a.isSelected?"bg-blue-100 dark:bg-blue-800":"","\n        "),children:t}))}})),[x]);return(0,n.jsxs)("div",{className:"relative w-full focus-within:z-10",role:"search",children:[(0,n.jsx)(l.Ay,{ref:t,value:b,onChange:p,options:a,isLoading:h,isDisabled:h||x,className:"\n          react-select-container w-full\n          ".concat(m?"react-select-focused":"","\n        "),classNamePrefix:"react-select",styles:(0,o.A)((0,o.A)({},f),{},{container:e=>(0,o.A)((0,o.A)({},e),{},{width:"100%"}),control:(e,t)=>(0,o.A)((0,o.A)({},f.control(e,t)),{},{width:"100%"})}),onFocus:g,onBlur:y,"aria-label":"Search for city or state",inputId:"location-select","aria-describedby":"location-select-help",placeholder:h?"Loading locations...":"Select City",noOptionsMessage:()=>x?"Error loading locations":"No locations found",isClearable:!0,isSearchable:!0,components:v,filterOption:(e,t)=>{var a;if(!t)return!0;const o=t.toLowerCase();return e.label.toLowerCase().includes(o)||((null===(a=e.data)||void 0===a?void 0:a.state)||"").toLowerCase().includes(o)},"aria-invalid":x?"true":"false","aria-busy":h}),x&&(0,n.jsx)("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",role:"alert",id:"location-select-error",children:x}),(0,n.jsx)("div",{className:"sr-only",id:"location-select-help",children:"Type to search for a city or state, use arrow keys to navigate results, Enter to select"})]})})));d.displayName="SearchBox";const u=d}}]);