"use strict";(self.webpackChunkfood_price_app=self.webpackChunkfood_price_app||[]).push([[7462],{9330:(t,e,r)=>{r.d(e,{A:()=>l});var n=r(9379),a=r(9950),o=r(6225),s=r(4414);const i=(0,a.memo)((t=>{let{src:e,alt:r,className:i="",width:l,height:c,priority:u=!1,sizes:d,onLoad:h,onError:g,fallbackSrc:f="/logo.webp",blur:m=!0,quality:p="auto",debug:y=!1}=t;const[b,w]=(0,a.useState)(!1),[v,k]=(0,a.useState)(!1),[x,j]=(0,a.useState)(!1),[S,N]=(0,a.useState)(e),[C,I]=(0,a.useState)(0),[L,z]=(0,a.useState)(!1),E=(0,a.useRef)(null),O=(0,a.useRef)(null),[A,_]=(0,a.useState)({width:l||0,height:c||0});(0,a.useEffect)((()=>{N(e),k(!1),w(!1),I(0),z(!1);const t=setTimeout((()=>{z(!0)}),100);return()=>clearTimeout(t)}),[e,y]);const R=(0,a.useCallback)((()=>{if(!S||!L)return()=>{};if(w(!1),k(!1),j(!1),l&&c)return _({width:l,height:c}),j(!0),()=>{};const t=new Image;return t.crossOrigin="anonymous",t.onload=()=>{_({width:t.naturalWidth,height:t.naturalHeight}),j(!0),w(!0),null===h||void 0===h||h()},t.onerror=()=>{I((t=>t+1)),k(!0),null===g||void 0===g||g()},t.src=S,()=>{t.onload=null,t.onerror=null}}),[S,l,c,h,g,y,C,L]);(0,a.useEffect)((()=>R()),[R,L]),(0,a.useEffect)((()=>{if(!u&&E.current&&"IntersectionObserver"in window)return O.current=new IntersectionObserver((t=>{t.forEach((t=>{t.isIntersecting&&E.current&&E.current.setAttribute("fetchpriority","high")}))}),{rootMargin:"50px"}),O.current.observe(E.current),()=>{O.current&&O.current.disconnect()}}),[u]);const T=/w-\d+|h-\d+/.test(i),M=x?A.height/A.width*100:56.25,W=(0,a.useCallback)((()=>(0,o.zD)(i,d)),[i,d]),Z=(0,a.useCallback)((()=>(0,o.GO)(S)),[S]);return(0,s.jsxs)("div",{className:"relative overflow-hidden ".concat(T?"":"w-full"),style:{width:l?"".concat(l,"px"):"100%",aspectRatio:A.width&&A.height?"".concat(A.width,"/").concat(A.height):"16/9",contain:"layout paint style"},children:[(0,s.jsx)("div",{style:{paddingTop:"".concat(M,"%"),contain:"strict"},className:"".concat(v?"bg-gray-200 dark:bg-gray-700":"bg-gray-100 dark:bg-gray-800","\n                   transition-colors duration-200"),"aria-hidden":"true"}),"        ",!v&&x&&(0,s.jsx)("img",(0,n.A)((0,n.A)({ref:E,src:S,alt:r,crossOrigin:"anonymous",width:A.width||void 0,height:A.height||void 0,className:"\n            absolute top-0 left-0 w-full h-full object-cover \n            ".concat(i," \n            ").concat(b?"opacity-100 blur-0":"opacity-0 blur-sm","\n            transition-all duration-500\n            motion-reduce:transition-none\n            dark:brightness-90\n          "),loading:u?"eager":"lazy",decoding:u?"sync":"async",sizes:W()},Z()&&{srcSet:Z()}),{},{fetchpriority:u||/hero|banner/.test((q=i,q?String(q).toLowerCase():""))?"high":"auto",onLoad:t=>{w(!0),E.current&&(E.current.style.transform="translateZ(0)"),null===h||void 0===h||h(t)},onError:t=>{if(S!==f&&f&&C<2)return N(f),I((t=>t+1)),void(t.target.srcset="");k(!0),w(!1),null===g||void 0===g||g(t)},style:{contain:"layout paint style",willChange:b?"auto":"transform",transform:"translateZ(0)"}})),v&&(0,s.jsx)("div",{className:"absolute top-0 left-0 w-full h-full flex items-center justify-center bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 transition-colors duration-200",role:"alert","aria-label":"Image failed to load",children:(0,s.jsxs)("div",{className:"flex flex-col items-center space-y-2",children:[(0,s.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),(0,s.jsx)("span",{className:"text-sm font-medium",children:"Image not available"})]})})]});var q}));i.displayName="OptimizedImage";const l=i}}]);