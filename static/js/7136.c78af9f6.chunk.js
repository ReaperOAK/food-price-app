"use strict";(self.webpackChunkfood_price_app=self.webpackChunkfood_price_app||[]).push([[7136],{7136:(e,a,t)=>{t.r(a),t.d(a,{default:()=>u});var r=t(9379),s=t(9950),i=t(2074),d=t(5907),n=t(2772),o=t(3983),l=t(172),c=t(3600),g=t(2164),h=t(1024),m=t(5530),y=t(4414);const u=s.memo((e=>{var a,t,u,b;let{rates:p=[],showChart:x=!0,itemsPerPage:k=10,showAdmin:w=!1,showSpecialRates:v=!1,chartType:j="bar",onDelete:f,onEdit:N,handleSort:C,showState:S=!1,showDate:D=!1,showPriceColumns:R=!0,selectedCity:M="",selectedState:L="",showMarket:A=!0,isLoading:E=!1}=e;const[O,P]=(0,s.useState)(1),[T,X]=(0,s.useState)({key:M?"date":"city",direction:"ascending"}),[I,V]=(0,s.useState)(null),[B,H]=(0,s.useState)({}),[_,F]=(0,s.useState)(null),[U,W]=(0,s.useState)({cities:[],states:[]}),[K,J]=(0,s.useState)(!1);(0,s.useEffect)((()=>{(async()=>{var e;if(0===(null===(e=U.cities)||void 0===e?void 0:e.length))try{J(!0);const e=await(0,m.bb)();W(e)}catch(a){W({cities:["Mumbai","Delhi","Kolkata","Chennai","Bengaluru","Hyderabad"],states:["Maharashtra","Delhi","West Bengal","Tamil Nadu","Karnataka","Telangana"]})}finally{J(!1)}})()}),[null===(a=U.cities)||void 0===a?void 0:a.length]);const q="400px",z="48px",G="600px",Q=(0,s.useMemo)((()=>"\n    min-h-[".concat(G,"]\n    bg-white dark:bg-gray-900\n    rounded-lg shadow-lg\n    border border-gray-200 dark:border-gray-700\n    transition-all duration-300\n    hover:shadow-xl\n  ")),[G]),Y=(0,s.useMemo)((()=>"\n    min-h-[".concat(q,"]\n    w-full\n    bg-white dark:bg-gray-900\n    border-collapse\n    border-spacing-0\n  ")),[q]),Z=(0,s.useMemo)((()=>"\n    h-[".concat(z,"]\n    bg-amber-500 dark:bg-amber-600\n    sticky top-0\n    z-10\n    border-b border-amber-600 dark:border-amber-700\n  ")),[z]),$=(0,s.useCallback)((()=>(0,y.jsx)("div",{className:"".concat(Q," animate-pulse"),role:"status","aria-label":"Loading egg rates",children:(0,y.jsxs)("div",{style:{minHeight:q},children:[(0,y.jsx)("div",{className:Z}),[...Array(5)].map(((e,a)=>(0,y.jsxs)("div",{style:{height:z},className:"p-4 flex items-center border-t border-gray-100 dark:border-gray-800 space-x-4",children:[(0,y.jsx)("div",{className:"w-1/4 h-4 bg-gray-200 dark:bg-gray-700 rounded"}),(0,y.jsx)("div",{className:"w-1/4 h-4 bg-gray-200 dark:bg-gray-700 rounded"}),(0,y.jsx)("div",{className:"w-1/4 h-4 bg-gray-200 dark:bg-gray-700 rounded"}),(0,y.jsx)("div",{className:"w-1/4 h-4 bg-gray-200 dark:bg-gray-700 rounded"})]},a)))]})})),[Q,Z]),ee=C?p:[...p].sort(((e,a)=>e[T.key]<a[T.key]?"ascending"===T.direction?-1:1:e[T.key]>a[T.key]?"ascending"===T.direction?1:-1:0)),ae=O*k,te=ee.slice(ae-k,ae),re=Array.from({length:Math.ceil((null===p||void 0===p?void 0:p.length)/k)},((e,a)=>a+1)),se=(0,s.useCallback)((e=>{if(C)C(e);else{let a="ascending";T.key===e&&"ascending"===T.direction&&(a="descending"),X({key:e,direction:a})}}),[C,T]),ie=(0,s.useCallback)((e=>{V(e.id),H(e)}),[]),de=(0,s.useCallback)((()=>{N&&N(B),V(null)}),[N,B]),ne=(0,s.useCallback)((()=>{V(null),H({})}),[]),oe=(0,s.useCallback)((e=>{const{name:a,value:t}=e.target;H((e=>(0,r.A)((0,r.A)({},e),{},{[a]:t})))}),[]),le=(0,s.useCallback)((e=>(0,y.jsx)("svg",T.key!==e?{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,y.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"})}:{className:"w-4 h-4 text-amber-800 dark:text-amber-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,y.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"ascending"===T.direction?"M8 7l4-4m0 0l4 4m-4-4v18":"M16 17l-4 4m0 0l-4-4m4 4V3"})})),[T]),ce=M?[...ee].sort(((e,a)=>new Date(a.date)-new Date(e.date))):Object.values(ee.reduce(((e,a)=>((!e[a.city]||new Date(a.date)>new Date(e[a.city].date))&&(e[a.city]=a),e)),{})),ge=(null===(t=ee[0])||void 0===t?void 0:t.rate)||0,he=(null===(u=ee[1])||void 0===u?void 0:u.rate)||ge,me=ge-he,ye=he?me/he*100:0,ue=30*ge,be=null!==(b=ee[0])&&void 0!==b&&b.date?new Date(ee[0].date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):(new Date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),pe=e=>e?String(e).toLowerCase():"",xe=(0,s.useMemo)((()=>M?{"@context":"https://schema.org","@type":"LocalBusiness",name:"Egg Market ".concat(M),description:"Find today's egg rates in ".concat(M,", ").concat(L,". Updated daily NECC egg prices and wholesale egg rates."),address:{"@type":"PostalAddress",addressLocality:String(M),addressRegion:String(L),addressCountry:"IN"},image:"https://todayeggrates.com/eggpic.webp",priceRange:"\u20b9\u20b9",telephone:"+91-XXXXXXXXXX",url:"https://todayeggrates.com/".concat(pe(M),"-egg-rate-today"),aggregateRating:{"@type":"AggregateRating",ratingValue:"4.8",ratingCount:"254"},openingHoursSpecification:[{"@type":"OpeningHoursSpecification",dayOfWeek:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],opens:"06:00",closes:"21:00"}],offers:{"@type":"Offer",itemOffered:{"@type":"Product",name:"Eggs",description:"Fresh eggs in ".concat(M,", ").concat(L),offers:{"@type":"Offer",price:String(ge||0),priceCurrency:"INR",availability:"https://schema.org/InStock",priceValidUntil:new Date((new Date).setDate((new Date).getDate()+1)).toISOString().split("T")[0]}}}}:null),[M,L,ge]),ke=(0,s.useMemo)((()=>M?{"@context":"https://schema.org","@type":"Product",name:"Eggs in ".concat(M,", ").concat(L),description:"Fresh eggs available in ".concat(M,", ").concat(L,". Check today's egg price."),image:"https://todayeggrates.com/eggpic.webp",offers:{"@type":"Offer",url:"https://todayeggrates.com/".concat(pe(M),"-egg-rate-today"),priceCurrency:"INR",price:String(ge||0),priceValidUntil:new Date((new Date).setDate((new Date).getDate()+1)).toISOString().split("T")[0],availability:"https://schema.org/InStock",itemCondition:"https://schema.org/NewCondition"},aggregateRating:{"@type":"AggregateRating",ratingValue:"4.8",reviewCount:"254"}}:null),[M,L,ge]);return(0,s.useMemo)((()=>{var e;return E?$():p&&0!==(null===p||void 0===p?void 0:p.length)?(0,y.jsxs)(y.Fragment,{children:[M&&!E&&(0,y.jsxs)(n.m,{children:[xe&&(0,y.jsx)("script",{type:"application/ld+json",children:JSON.stringify(xe)}),ke&&(0,y.jsx)("script",{type:"application/ld+json",children:JSON.stringify(ke)})]}),(0,y.jsxs)("div",{className:Q,children:[v&&(0,y.jsxs)("div",{className:"p-6 bg-white dark:bg-gray-800 rounded-t-lg border-b border-gray-200 dark:border-gray-700",children:[(0,y.jsx)("h2",{className:"text-2xl md:text-3xl font-bold text-center text-gray-800 dark:text-gray-100",children:"Special Rates"}),(0,y.jsx)("p",{className:"text-center text-gray-600 dark:text-gray-400 mt-2",children:"Today's wholesale egg rates for special markets and bulk buyers"})]}),!v&&(null===ce||void 0===ce?void 0:ce.length)>0&&(0,y.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-t-lg",children:(0,y.jsx)(l.A,{latestRate:ge,latestRateDate:be,rateChange:me,percentageChange:ye,trayPrice:ue})}),(0,y.jsx)("div",{className:"overflow-x-auto bg-white dark:bg-gray-800 rounded-lg",children:(0,y.jsxs)("table",{className:"min-w-full border-collapse",role:"table","aria-label":"Egg Rates Table",children:[(0,y.jsx)("thead",{className:Z,children:(0,y.jsx)(o.A,{selectedCity:M,showMarket:A,showState:S,showDate:D,showPriceColumns:R,showSpecialRates:v,showAdmin:w,sortConfig:T,requestSort:se,getSortIcon:le})}),(0,y.jsx)("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:te.map(((e,a)=>(0,y.jsx)(c.A,{rate:e,index:a,hoveredRow:_,selectedCity:M,showMarket:A,showState:S,showDate:D,showPriceColumns:R,showSpecialRates:v,showAdmin:w,editingRate:I,editedRate:B,handleChange:oe,handleEditClick:ie,handleSaveClick:de,handleCancelClick:ne,onDelete:f,setHoveredRow:F,rowHeight:z},"".concat(e.city,"-").concat(e.date,"-").concat(a))))})]})}),(0,y.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-b-lg border-t border-gray-200 dark:border-gray-700",children:(0,y.jsx)(g.A,{currentPage:O,setCurrentPage:P,pages:re,isLoading:E})}),x&&(0,y.jsx)("div",{className:"mt-6 bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm",children:(0,y.jsx)(d.A,{data:te,type:M?"line":"bar",xKey:M?"date":"city",yKey:"rate",title:M?"".concat(M," Egg Price Trend"):"Egg Rates by City",isLoading:E})}),!K&&(null===(e=U.cities)||void 0===e?void 0:e.length)>0&&(0,y.jsxs)("div",{className:"mt-6 bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm",children:[(0,y.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Explore Egg Rates in Other Cities"}),(0,y.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-3",children:U.cities.filter((e=>e!==M)).sort((()=>.5-Math.random())).slice(0,12).map((e=>(0,y.jsxs)(i.N_,{to:"/".concat(e.toLowerCase().replace(/\s+/g,"-"),"-egg-rate-today"),className:"bg-gradient-to-r from-amber-50 to-amber-100 dark:from-gray-700 dark:to-gray-600  rounded-lg p-3 text-center hover:shadow-md transition-all duration-200 hover:from-amber-100 hover:to-amber-200 dark:hover:from-gray-600 dark:hover:to-gray-500 border border-amber-200 dark:border-gray-600 group",children:[(0,y.jsx)("p",{className:"font-medium text-gray-900 dark:text-white text-sm group-hover:text-amber-700 dark:group-hover:text-amber-300",children:e}),(0,y.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:"View Rates"})]},e)))}),(0,y.jsxs)("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,y.jsx)("h4",{className:"text-md font-medium text-gray-800 dark:text-gray-200 mb-3",children:"Browse by State"}),(0,y.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:U.states.filter((e=>e!==L)).sort((()=>.5-Math.random())).slice(0,8).map((e=>(0,y.jsx)(i.N_,{to:"/state/".concat(e.toLowerCase().replace(/\s+/g,"-"),"-egg-rate-today"),className:"bg-green-50 dark:bg-gray-700 rounded-md p-2 text-center hover:bg-green-100  dark:hover:bg-gray-600 transition-colors duration-200 text-sm border border-green-200 dark:border-gray-600",children:(0,y.jsx)("span",{className:"text-green-700 dark:text-green-300 font-medium",children:e})},e)))})]})]}),(0,y.jsx)("div",{className:"mt-6",children:(0,y.jsx)(h.A,{selectedCity:M,selectedState:L||"India",isLoading:E})})]})]}):(0,y.jsx)("div",{className:"".concat(Y," flex items-center justify-center p-8"),children:(0,y.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"No data available"})})}),[E,p,M,L,v,ce,ge,be,me,ye,ue,U,K,te,O,B,I,_,xe,ke,de,f,$,se,ne,oe,ie,Q,Z,Y,le,w,x,D,A,R,S,T,re])}))}}]);