"use strict";(self.webpackChunkfood_price_app=self.webpackChunkfood_price_app||[]).push([[316],{316:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(9950),o=n(4414);const s=(0,r.memo)((e=>{let{contentId:t,blogId:n,isSticky:s=!1}=e;const[a,c]=(0,r.useState)([]),[l,i]=(0,r.useState)(""),[d,u]=(0,r.useState)(window.innerWidth<768),[h,b]=(0,r.useState)(null),f=(0,r.useRef)(null),m=(0,r.useRef)(null),x=(0,r.useCallback)((()=>{try{const e=document.getElementById(t);if(!e)return void b("Content not found");b(null);const r=e.querySelectorAll("h2, h3");r.forEach((e=>{if(!e.id){const t=e.innerText.toLowerCase().replace(/[^\w ]+/g,"").replace(/ +/g,"-");e.id="".concat(n,"-heading-").concat(t)}}));const o=Array.from(r).map((e=>({id:e.id,text:e.innerText,level:"H2"===e.tagName?2:3})));c(o),f.current&&f.current.disconnect(),f.current=new IntersectionObserver((e=>{const t=e.find((e=>e.isIntersecting));t&&i(t.target.id)}),{rootMargin:"0px 0px -80% 0px",threshold:[0,1]}),r.forEach((e=>f.current.observe(e)))}catch(e){b("Failed to extract headings")}}),[t,n]);(0,r.useEffect)((()=>{const e=()=>{u(window.innerWidth<768)};window.addEventListener("resize",e),x(),m.current&&m.current.disconnect();const n=document.getElementById(t);return n&&(m.current=new MutationObserver((e=>{e.some((e=>"childList"===e.type&&(e.addedNodes.length>0||e.removedNodes.length>0)))&&requestAnimationFrame(x)})),m.current.observe(n,{childList:!0,subtree:!0})),()=>{window.removeEventListener("resize",e),f.current&&f.current.disconnect(),m.current&&m.current.disconnect()}}),[t,x]);const g=(0,r.useCallback)((e=>{const t=document.getElementById(e);if(t){const e=document.querySelector("header");window.scrollTo({top:t.offsetTop-((e?e.offsetHeight:0)+20),behavior:"smooth"}),t.setAttribute("tabindex","-1"),t.focus({preventScroll:!0})}}),[]),p=(0,r.useCallback)((()=>{u((e=>!e))}),[]);return h?(0,o.jsx)("div",{role:"alert",className:"text-red-600 p-4 rounded-lg bg-red-50",children:h}):0===a.length?null:(0,o.jsxs)("nav",{"aria-label":"Table of contents",className:"toc-container bg-white dark:bg-gray-800 p-4 rounded-lg shadow-lg mb-6 \n        ".concat(s?"lg:sticky lg:top-24 lg:max-h-[calc(100vh-8rem)] lg:overflow-y-auto":"","\n        transition-all duration-300 ease-in-out\n        border border-gray-200 dark:border-gray-700"),children:[(0,o.jsxs)("div",{className:"flex justify-between items-center cursor-pointer",onClick:p,children:[(0,o.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Table of Contents"}),(0,o.jsxs)("button",{"aria-expanded":!d,"aria-controls":"toc-list",className:"p-2 text-gray-600 hover:text-blue-600 dark:text-gray-300 dark:hover:text-blue-400  focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 rounded-md transition-colors duration-200",children:[(0,o.jsxs)("span",{className:"sr-only",children:[d?"Expand":"Collapse"," table of contents"]}),(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 transform transition-transform duration-200 ".concat(d?"rotate-180":""),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:d?"M19 9l-7 7-7-7":"M5 15l7-7 7 7"})})]})]}),(0,o.jsx)("div",{id:"toc-list",className:"mt-3 transition-all duration-300 ease-in-out ".concat(d?"h-0 overflow-hidden opacity-0":"h-auto opacity-100"),children:(0,o.jsx)("ul",{className:"space-y-2",children:a.map((e=>(0,o.jsx)("li",{className:"toc-item ".concat(3===e.level?"ml-4":""," \n                ").concat(l===e.id?"border-l-4 border-blue-500 pl-2":"pl-3"),children:(0,o.jsx)("a",{href:"#".concat(e.id),onClick:t=>{t.preventDefault(),g(e.id)},className:"block py-1 text-".concat(2===e.level?"md":"sm"," \n                  ").concat(l===e.id?"text-blue-600 dark:text-blue-400 font-semibold":"text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400","\n                  transition-colors duration-200\n                  focus:outline-none focus:text-blue-600 dark:focus:text-blue-400\n                  focus:bg-blue-50 dark:focus:bg-blue-900/30 rounded"),"aria-current":l===e.id?"location":void 0,children:e.text})},e.id)))})})]})}));s.displayName="TableOfContents";const a=s}}]);