"use strict";(self.webpackChunkfood_price_app=self.webpackChunkfood_price_app||[]).push([[1483],{1483:(e,t,s)=>{s.d(t,{A:()=>l});var r=s(9950),a=s(2074),o=s(9330),n=(s(3720),s(4414));const l=e=>{let{webStories:t}=e;const[s,l]=(0,r.useState)(0),[i,d]=(0,r.useState)(!0),[c,g]=(0,r.useState)(3),[h,x]=(0,r.useState)(!1),[u,m]=(0,r.useState)(0),b=(0,r.useRef)(null),p=(0,r.useRef)(null),f=(0,r.useRef)(null),v=(0,r.useMemo)((()=>t||[]),[t]);(0,r.useEffect)((()=>{}),[v]),(0,r.useEffect)((()=>{const e=()=>{const e=window.innerWidth;g(e<480||e<640?1:e<768?1.5:e<1024?2:e<1280?3:e<1536?3.5:4)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),(0,r.useEffect)((()=>{if(i&&null!==v&&void 0!==v&&v.length&&!h)return p.current=setInterval((()=>{l((e=>e>=Math.max(0,v.length-Math.floor(c))?0:e+1))}),6e3),()=>{p.current&&clearInterval(p.current)}}),[i,null===v||void 0===v?void 0:v.length,c,h]);const y=(0,r.useCallback)((()=>{l((e=>e>=Math.max(0,v.length-Math.floor(c))?0:e+1))}),[v.length,c]),w=(0,r.useCallback)((()=>{l((e=>{const t=Math.max(0,v.length-Math.floor(c));return e<=0?t:e-1}))}),[v.length,c]),k=(0,r.useCallback)((e=>{const t=Math.max(0,v.length-Math.floor(c));l(Math.min(e,t))}),[v.length,c]),j=()=>{x(!1),f.current&&(f.current.style.cursor="grab")};if(null===v||void 0===v||!v.length)return(0,n.jsxs)("div",{className:"text-center p-8 bg-white dark:bg-gray-800 rounded-lg shadow-md",children:[(0,n.jsx)("svg",{className:"w-16 h-16 mx-auto text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),(0,n.jsx)("p",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200 mb-2",children:"No Stories Available"}),(0,n.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Check back later for updates on egg prices and market trends."})]});const N=Math.max(0,v.length-Math.floor(c)),M=v.length>Math.floor(c);return(0,n.jsxs)("div",{className:"webstories-carousel relative px-2 sm:px-4",children:[(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 sm:mb-6 gap-2 sm:gap-4",children:["        ",(0,n.jsx)("div",{className:"flex items-center space-x-2",children:(0,n.jsxs)("span",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:[s+1,"-",Math.min(s+Math.floor(c),v.length)," of ",v.length," stories"]})}),(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,n.jsx)("button",{onClick:()=>d(!i),className:"webstories-autoplay-button flex items-center space-x-2 px-3 py-2 text-xs sm:text-sm text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600","aria-label":i?"Pause auto-play":"Start auto-play",children:(0,n.jsxs)(n.Fragment,i?{children:[(0,n.jsx)("svg",{className:"w-3 h-3 sm:w-4 sm:h-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"})}),(0,n.jsx)("span",{className:"hidden sm:inline",children:"Pause"})]}:{children:[(0,n.jsx)("svg",{className:"w-3 h-3 sm:w-4 sm:h-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{d:"M8 5v14l11-7z"})}),(0,n.jsx)("span",{className:"hidden sm:inline",children:"Play"})]})}),(0,n.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400 hidden sm:inline",children:"Auto-advances every 6s"})]})]}),"      ",(0,n.jsx)("div",{className:"relative overflow-hidden rounded-lg bg-gray-50 dark:bg-gray-900 p-2 sm:p-4",children:(0,n.jsxs)("div",{ref:b,className:"webstories-carousel-container flex cursor-grab active:cursor-grabbing",style:{transform:"translateX(-".concat(s*(100/c),"%)"),width:"".concat(v.length/c*100,"%")},onMouseDown:e=>{x(!0),m(e.pageX-b.current.offsetLeft),f.current&&(f.current.style.cursor="grabbing")},onMouseMove:e=>{if(!h)return;e.preventDefault();const t=2*(e.pageX-b.current.offsetLeft-u);Math.abs(t)>50&&(t>0?w():y(),x(!1))},onMouseUp:j,onMouseLeave:j,onTouchStart:e=>{x(!0),m(e.touches[0].pageX-b.current.offsetLeft)},onTouchMove:e=>{if(!h)return;const t=2*(e.touches[0].pageX-b.current.offsetLeft-u);Math.abs(t)>50&&(t>0?w():y(),x(!1))},onTouchEnd:()=>{x(!1)},role:"listbox","aria-label":"Web stories carousel",children:["          ",v.map(((e,t)=>{const r="story-".concat(e.slug,"-").concat(t),l=t>=s&&t<s+Math.floor(c);return(0,n.jsxs)("div",{className:"flex-shrink-0 px-1 sm:px-2",style:{width:"".concat(100/v.length,"%")},role:"option","aria-selected":l,children:[(0,n.jsxs)(a.N_,{to:"/webstory/".concat(e.slug),className:"webstories-card group block bg-white dark:bg-gray-800 rounded-xl shadow-sm hover:shadow-xl overflow-hidden border border-gray-200 dark:border-gray-700 hover:border-indigo-300 dark:hover:border-indigo-600","aria-label":"View web story about egg rates in ".concat(e.city,", ").concat(e.state,". Current rate: \u20b9").concat(e.rate," per egg"),onClick:e=>h&&e.preventDefault(),children:["                ",(0,n.jsxs)("div",{className:"webstories-card-image relative aspect-w-16 aspect-h-9 bg-gray-100 dark:bg-gray-700",children:[(0,n.jsx)(o.A,{src:e.thumbnail,alt:"Fresh eggs in India rate visualization for ".concat(e.city,", ").concat(e.state," - Farm fresh eggs market analysis"),className:"w-full h-32 sm:h-40 md:h-44 object-cover",fallbackSrc:"/eggpic.webp",width:300,height:160,loading:t<Math.floor(c)?"eager":"lazy",priority:t<3,debug:!1},"stable-".concat(e.slug)),(0,n.jsx)("div",{className:"webstories-card-overlay absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent opacity-60"}),(0,n.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-2 sm:p-3",children:(0,n.jsx)("p",{className:"text-white text-xs font-medium bg-black/40 rounded px-2 py-1 inline-block",children:e.date})})]}),(0,n.jsxs)("div",{className:"p-3 sm:p-4",children:["                  ",(0,n.jsx)("h3",{className:"text-xs sm:text-sm font-semibold text-gray-900 dark:text-gray-100 group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors duration-200 line-clamp-2 mb-2 leading-snug",children:e.title}),(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsxs)("p",{className:"text-indigo-600 dark:text-indigo-400 font-bold text-sm sm:text-base",children:["\u20b9",e.rate]}),(0,n.jsxs)("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate ml-2",children:[e.city,", ",e.state]})]})]})]}),"            "]},r)}))]})}),"      ",M&&(0,n.jsxs)(n.Fragment,{children:["          ",(0,n.jsx)("button",{onClick:w,className:"webstories-nav-button absolute left-2 sm:left-0 top-1/2 -translate-y-1/2 sm:-translate-x-4 bg-white dark:bg-gray-800 p-2 sm:p-3 rounded-full shadow-lg hover:shadow-xl z-20 group disabled:opacity-50 disabled:cursor-not-allowed border border-gray-200 dark:border-gray-600","aria-label":"Previous stories",disabled:0===s,children:(0,n.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-600 dark:text-gray-400 group-hover:text-indigo-600 dark:group-hover:text-indigo-400 group-disabled:text-gray-300 dark:group-disabled:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,n.jsx)("button",{onClick:y,className:"webstories-nav-button absolute right-2 sm:right-0 top-1/2 -translate-y-1/2 sm:translate-x-4 bg-white dark:bg-gray-800 p-2 sm:p-3 rounded-full shadow-lg hover:shadow-xl z-20 group disabled:opacity-50 disabled:cursor-not-allowed border border-gray-200 dark:border-gray-600","aria-label":"Next stories",disabled:s>=N,children:(0,n.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-600 dark:text-gray-400 group-hover:text-indigo-600 dark:group-hover:text-indigo-400 group-disabled:text-gray-300 dark:group-disabled:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),"      ",M&&(0,n.jsx)("div",{className:"flex justify-center space-x-1 sm:space-x-2 mt-4 sm:mt-6",children:Array.from({length:N+1},((e,t)=>(0,n.jsx)("button",{onClick:()=>k(t),className:"webstories-dot h-2 rounded-full focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 ".concat(t===s?"active bg-indigo-600 dark:bg-indigo-400 w-6 sm:w-8":"bg-gray-300 dark:bg-gray-600 hover:bg-gray-400 dark:hover:bg-gray-500 w-2"),"aria-label":"Go to slide ".concat(t+1)},t)))}),(0,n.jsxs)("div",{className:"mt-6 sm:mt-8 text-center",children:["        ",(0,n.jsxs)("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 mb-3 sm:mb-4",children:["Showing all ",v.length," city web stories with current egg rates"]}),(0,n.jsxs)(a.N_,{to:"/webstories",className:"inline-flex items-center px-4 py-2 sm:px-6 sm:py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 text-sm sm:text-base font-medium",children:[(0,n.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})}),(0,n.jsx)("span",{className:"hidden sm:inline",children:"View All Web Stories"}),(0,n.jsx)("span",{className:"sm:hidden",children:"View All"})]})]})]})}}}]);