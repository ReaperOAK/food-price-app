{"version":3,"file":"static/js/webstory-viewer.a4b682e0.chunk.js","mappings":"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","sources":["components/common/OptimizedImage.js","components/layout/Footer.js","components/layout/Navbar.js","components/webstories/WebStoryViewer.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\n\nconst OptimizedImage = ({ \n  src, \n  alt, \n  className = '', \n  width, \n  height, \n  priority = false,\n  onError \n}) => {  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState(false);\n  const imgRef = useRef(null);\n  const [dimensions, setDimensions] = useState({ \n    width: width || 0, \n    height: height || 0 \n  });\n\n  // Early load image dimensions if not provided\n  useEffect(() => {\n    if (!width || !height) {\n      const img = new Image();\n      img.src = src;\n      \n      // Use native browser lazy loading hint\n      if ('loading' in HTMLImageElement.prototype) {\n        img.loading = 'lazy';\n      }\n        img.onload = () => {\n        setDimensions({ \n          width: img.naturalWidth, \n          height: img.naturalHeight \n        });\n        setIsLoading(false);\n      };\n      \n      img.onerror = () => {\n        setError(true);\n        setIsLoading(false);\n      };\n    } else {\n      setDimensions({ width, height });\n    }\n  }, [src, width, height]);\n  // Extract Tailwind dimensions\n  const hasTailwindDimensions = /w-\\d+|h-\\d+/.test(className);\n\n  // Generate blur placeholder\n  const placeholder = `data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 ${width} ${height}'%3E%3Crect width='100%25' height='100%25' fill='%23f3f4f6'/%3E%3C/svg%3E`;\n\n  return (\n    <div \n      className={`relative overflow-hidden ${hasTailwindDimensions ? '' : 'w-full'} ${className}`}\n      style={{ \n        width: width ? `${width}px` : '100%',\n        aspectRatio: dimensions.width && dimensions.height ? \n          `${dimensions.width}/${dimensions.height}` : '16/9',\n        contain: 'layout paint style'\n      }}\n    >\n      {isLoading && !error && (\n        <div className=\"absolute inset-0 bg-gray-100 animate-pulse\" />\n      )}\n      <img\n        ref={imgRef}\n        src={error ? '/eggpic.webp' : src}\n        alt={alt}\n        width={dimensions.width || undefined}\n        height={dimensions.height || undefined}\n        loading={priority ? \"eager\" : \"lazy\"}\n        decoding=\"async\"        onLoad={() => {\n          setIsLoading(false);\n          // Force layout recalculation\n          if (imgRef.current) {\n            imgRef.current.style.transform = 'translateZ(0)';\n          }\n        }}\n        onError={(e) => {\n          setError(true);\n          setIsLoading(false);\n          e.target.onerror = null;\n          e.target.src = '/logo.png';\n          if (onError) {\n            onError(e);\n          }\n        }}\n        className={`absolute top-0 left-0 w-full h-full object-cover transition-opacity duration-300 ${\n          isLoading ? 'opacity-0' : 'opacity-100'\n        }`}\n        style={{ \n          backgroundImage: `url(${placeholder})`,\n          backgroundSize: 'cover',\n          contain: 'layout paint style',\n          willChange: 'transform',\n          transform: 'translateZ(0)'\n        }}\n      />\n      {error && (\n        <div className=\"absolute top-0 left-0 w-full h-full flex items-center justify-center text-gray-500\">\n          <span>Image not available</span>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default OptimizedImage;\n","import React from \"react\";\n\nconst Footer = () => {\n  return (\n    <footer className=\"bg-[#422C18] text-white p-6 mt-8\">\n      <div className=\"container mx-auto flex flex-col md:flex-row justify-between items-center\">\n        <div className=\"mb-4 md:mb-0\">\n          <p className=\"text-center md:text-left\">\n            © {new Date().getFullYear()} todayEggRates. All Rights Reserved.\n          </p>\n        </div>\n        <div className=\"flex flex-col md:flex-row md:space-x-6\">\n        <a\n            href=\"/disclaimer\"\n            className=\"text-[#C4A484] hover:text-white transition duration-300\"\n          >\n            Disclaimer\n          </a>\n          <a\n            href=\"/privacy\"\n            className=\"text-[#C4A484] hover:text-white transition duration-300 mb-2 md:mb-0\"\n          >\n            Privacy Policy\n          </a>\n          <a\n            href=\"/terms\"\n            className=\"text-[#C4A484] hover:text-white transition duration-300\"\n          >\n            Terms of Service\n          </a>\n        </div>\n      </div>\n      <div className=\"mt-6 text-center\">\n        <p className=\"text-[#C4A484] text-sm\">\n          Follow us on{\" \"}\n          <a\n            href=\"https://www.facebook.com\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            className=\"text-[#C4A484] hover:text-white transition duration-300\"\n          >\n            Facebook\n          </a>\n          ,{\" \"}\n          <a\n            href=\"https://www.twitter.com\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            className=\"text-[#C4A484] hover:text-white transition duration-300\"\n          >\n            Twitter\n          </a>\n          ,{\" \"}\n          <a\n            href=\"https://www.instagram.com\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            className=\"text-[#C4A484] hover:text-white transition duration-300\"\n          >\n            Instagram\n          </a>\n          .\n        </p>\n        <br/>\n        <p>Made with &#10084; by <a href=\"https://www.instagram.com/being._owais/profilecard/?igsh=MWo5Nm45cjFuNzVobA==\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"hover:underline\">Owais Khan</a></p>\n      </div>\n    </footer>\n  );\n};\n\nexport default Footer;\n","import React, { useEffect, useState } from 'react';\nimport { Link, useNavigate, useLocation } from 'react-router-dom';\nimport Select from 'react-select';\nimport { FaBars, FaTimes } from 'react-icons/fa';\nimport OptimizedImage from '../common/OptimizedImage';\n\nconst Navbar = ({ setSelectedCity, setSelectedState, selectedCity, selectedState }) => {\n  const [options, setOptions] = useState([]);\n  const [menuOpen, setMenuOpen] = useState(false);\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  // Track navigation lock to prevent redundant navigations\n  const navigationLock = React.useRef(false);\n\n  useEffect(() => {\n    fetch('/php/api/location/get_states_and_cities.php')\n      .then(response => response.json())\n      .then(data => {\n        const combinedOptions = [];\n        const stateSet = new Set();\n        const citySet = new Set();\n        \n        for (const state in data) {\n          if (!stateSet.has(state)) {\n            combinedOptions.push({\n              value: state,\n              label: state,\n              type: 'state',\n            });\n            stateSet.add(state);\n          }\n          \n          data[state].forEach(city => {\n            // Standardize city names\n            let cityName = city;\n            // Case-insensitive check for bengaluru/bangalore variants\n            if (cityName.toLowerCase() === 'bangalore' || \n                cityName.toLowerCase() === 'bangalore (cc)' || \n                cityName.toLowerCase() === 'bengaluru (cc)' ||\n                cityName.toLowerCase() === 'bengaluru') {\n              cityName = 'Bengaluru'; // Always use this capitalization\n            }\n            \n            const cityLabel = `${cityName}, ${state}`;\n            if (!citySet.has(cityLabel)) {\n              combinedOptions.push({\n                value: cityName,\n                label: cityLabel,\n                type: 'city',\n              });\n              citySet.add(cityLabel);\n            }\n          });\n        }\n        setOptions(combinedOptions);\n      })\n      .catch(error => console.error('Error fetching states and cities:', error));\n  }, []);\n\n  const handleChange = (selectedOption) => {\n    if (!selectedOption || navigationLock.current) return;\n    \n    navigationLock.current = true;\n    const { type, label } = selectedOption;\n    \n    if (type === 'city') {\n      const [city, state] = label.split(', ');\n      let selectedCityName = city;\n      \n      // Case-insensitive check for bengaluru/bangalore variants\n      if (selectedCityName.toLowerCase() === 'bangalore' || \n          selectedCityName.toLowerCase() === 'bangalore (cc)' || \n          selectedCityName.toLowerCase() === 'bengaluru (cc)' ||\n          selectedCityName.toLowerCase() === 'bengaluru') {\n        selectedCityName = 'Bengaluru'; // Always use this capitalization\n      }\n      \n      // Update states first\n      setSelectedCity(selectedCityName);\n      setSelectedState(state);\n      \n      // Then navigate with a slight delay\n      setTimeout(() => {\n        const path = `/${selectedCityName.toLowerCase()}-egg-rate`;\n        \n        // Only navigate if we're not already on this path\n        if (location.pathname !== path) {\n          navigate(path, { replace: true });\n        }\n        \n        navigationLock.current = false;\n      }, 5);\n      \n    } else if (type === 'state') {\n      // Update states first\n      setSelectedCity('');\n      setSelectedState(label);\n      \n      // Then navigate with a slight delay\n      setTimeout(() => {\n        const path = `/state/${label.toLowerCase()}-egg-rate`;\n        \n        // Only navigate if we're not already on this path\n        if (location.pathname !== path) {\n          navigate(path, { replace: true });\n        }\n        \n        navigationLock.current = false;\n      }, 5);\n    }\n  };\n\n  const handleHomeClick = (e) => {\n    if (navigationLock.current) {\n      e.preventDefault();\n      return;\n    }\n    \n    navigationLock.current = true;\n    setSelectedCity('');\n    setSelectedState('');\n    \n    // Only navigate if we're not already on home\n    if (location.pathname !== '/') {\n      navigate('/');\n    }\n    \n    // Release lock after a short delay\n    setTimeout(() => {\n      navigationLock.current = false;\n    }, 5);\n  };\n\n  const handleCityClick = (city, e) => {\n    if (navigationLock.current) {\n      e?.preventDefault();\n      return;\n    }\n    \n    navigationLock.current = true;\n    // Update state first\n    setSelectedCity(city);\n    setSelectedState('');\n    \n    // Then navigate with a slight delay\n    setTimeout(() => {\n      const path = `/${city.toLowerCase()}-egg-rate`;\n      \n      // Only navigate if we're not already on this path\n      if (location.pathname !== path) {\n        navigate(path, { replace: true });\n      }\n      \n      navigationLock.current = false;\n    }, 5);\n  };\n\n  const toggleMenu = () => {\n    setMenuOpen(!menuOpen);\n  };\n\n  const handleLogoError = (e) => {\n    console.error('Error loading logo:', e.nativeEvent);\n    console.error('Error target:', e.target);\n    e.target.src = '/logo.png'; // Fallback image\n  };\n\n  return (\n    <nav className=\"bg-white p-4 shadow-lg\">\n      <div className=\"container mx-auto flex flex-col md:flex-row justify-between items-center\">\n        <div className=\"flex justify-between items-center w-full md:w-auto\">          <Link to=\"/\" onClick={handleHomeClick} className=\"mb-4 md:mb-0\">\n            <OptimizedImage\n              src=\"/logo.png\"\n              alt=\"Today Egg Rates Logo\"\n              className=\"h-10\"\n              width={200}\n              height={40}\n              onError={handleLogoError}\n            />\n          </Link>\n          <button\n            className=\"md:hidden text-gray-800 focus:outline-none\"\n            onClick={toggleMenu}\n          >\n            {menuOpen ? <FaTimes size={24} /> : <FaBars size={24} />}\n          </button>\n        </div>\n        <div\n          className={`${\n            menuOpen ? 'block' : 'hidden'\n          } md:flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-4 mb-4 md:mb-0 w-full md:w-auto`}\n        >\n          <div className=\"flex flex-col space-y-2 md:space-y-0 md:flex-row md:space-x-4\">\n            <Link\n              to=\"/\"\n              className=\"text-gray-800 hover:text-gray-600 transition duration-300\"\n              onClick={handleHomeClick}\n            >\n              Home\n            </Link>\n            <Link\n              to=\"/mumbai-egg-rate\"\n              className=\"text-gray-800 hover:text-gray-600 transition duration-300\"\n              onClick={(e) => handleCityClick('Mumbai', e)}\n            >\n              Mumbai\n            </Link>\n            <Link\n              to=\"/kolkata-egg-rate\"\n              className=\"text-gray-800 hover:text-gray-600 transition duration-300\"\n              onClick={(e) => handleCityClick('Kolkata', e)}\n            >\n              Kolkata\n            </Link>\n            <Link\n              to=\"/lucknow-egg-rate\"\n              className=\"text-gray-800 hover:text-gray-600 transition duration-300\"\n              onClick={(e) => handleCityClick('Lucknow', e)}\n            >\n              Lucknow\n            </Link>\n            <Link\n              to=\"/barwala-egg-rate\"\n              className=\"text-gray-800 hover:text-gray-600 transition duration-300\"\n              onClick={(e) => handleCityClick('Barwala', e)}\n            >\n              Barwala\n            </Link>\n            <Link\n              to=\"/hyderabad-egg-rate\"\n              className=\"text-gray-800 hover:text-gray-600 transition duration-300\"\n              onClick={(e) => handleCityClick('Hyderabad', e)}\n            >\n              Hyderabad\n            </Link>\n            <Link\n              to=\"/chennai-egg-rate\"\n              className=\"text-gray-800 hover:text-gray-600 transition duration-300\"\n              onClick={(e) => handleCityClick('Chennai', e)}\n            >\n              Chennai\n            </Link>\n            <Link\n              to=\"/webstories\"\n              className=\"text-gray-800 hover:text-gray-600 transition duration-300\"\n            >\n              Web Stories\n            </Link>\n          </div>\n        </div>\n        <div className=\"w-full md:w-64\">\n          <Select\n            value={options.find(option => option.value === (selectedCity || selectedState))}\n            onChange={handleChange}\n            options={options}\n            className=\"w-full\"\n            styles={{\n              control: (base) => ({\n                ...base,\n                backgroundColor: 'white',\n                borderColor: 'transparent',\n                boxShadow: 'none',\n                '&:hover': {\n                  borderColor: 'transparent',\n                },\n                padding: '0.5rem', // Add padding for better touch target\n                borderRadius: '0.375rem', // Tailwind rounded\n              }),\n              menu: (base) => ({\n                ...base,\n                zIndex: 9999,\n              }),\n              placeholder: (base) => ({\n                ...base,\n                color: '#A0AEC0', // Placeholder color for better contrast\n              }),\n            }}\n            placeholder=\"Select City, State\"\n          />\n        </div>\n      </div>\n    </nav>\n  );\n};\n\nexport default Navbar;","import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport Navbar from '../layout/Navbar';\nimport Footer from '../layout/Footer';\nimport { Helmet } from 'react-helmet';\n\nconst WebStoryViewer = () => {\n  const { slug } = useParams();\n  const navigate = useNavigate();\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [selectedState, setSelectedState] = useState('');\n  const [selectedCity, setSelectedCity] = useState('');\n  const [storyData, setStoryData] = useState(null);\n\n  useEffect(() => {\n    const fetchStoryData = async () => {\n      try {\n        setLoading(true);\n        // First try to fetch the story data\n        const response = await fetch('/php/get_web_stories.php');\n        if (!response.ok) {\n          throw new Error('Failed to fetch web story data');\n        }\n        const data = await response.json();\n        const story = data.find(s => s.slug === slug);\n        \n        if (story) {\n          setStoryData(story);\n          setSelectedCity(story.city);\n          setSelectedState(story.state);\n          \n          // Then check if the story file exists\n          const storyFileCheck = await fetch(`/webstories/${slug}.html`, { method: 'HEAD' });\n          if (!storyFileCheck.ok) {\n            throw new Error('Web story content not found');\n          }\n        } else {\n          throw new Error('Story not found');\n        }\n      } catch (err) {\n        console.error('Error fetching web story:', err);\n        setError(err.message || 'Failed to load web story');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchStoryData();\n  }, [slug]);\n\n  // If story data is available, set the metadata for SEO\n  const renderHelmet = () => {\n    if (storyData) {\n      return (\n        <Helmet>\n          <title>{`${storyData.title} - Today Egg Rates`}</title>\n          <meta name=\"description\" content={`View the latest egg rates in ${storyData.city}, ${storyData.state}. Current price: ₹${storyData.rate} per egg (Updated: ${storyData.date})`} />\n          <link rel=\"canonical\" href={`https://todayeggrates.com/webstory/${storyData.slug}`} />\n          <meta property=\"og:title\" content={storyData.title} />\n          <meta property=\"og:description\" content={`Current egg rate in ${storyData.city}, ${storyData.state}: ₹${storyData.rate} (Updated: ${storyData.date})`} />\n          <meta property=\"og:image\" content={`https://todayeggrates.com${storyData.thumbnail}`} />\n          <meta property=\"og:url\" content={`https://todayeggrates.com/webstory/${storyData.slug}`} />\n          <meta property=\"og:type\" content=\"article\" />\n        </Helmet>\n      );\n    }\n    return null;\n  };\n\n  if (loading) {\n    return (\n      <div className=\"bg-gray-50 min-h-screen flex flex-col\">\n        <Navbar\n          selectedState={selectedState}\n          setSelectedState={setSelectedState}\n          setSelectedCity={setSelectedCity}\n          selectedCity={selectedCity}\n        />\n        <div className=\"container mx-auto p-6 flex-grow flex items-center justify-center\">\n          <div className=\"animate-spin rounded-full h-32 w-32 border-t-2 border-b-2 border-blue-500\"></div>\n        </div>\n        <Footer />\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"bg-gray-50 min-h-screen flex flex-col\">\n        <Navbar\n          selectedState={selectedState}\n          setSelectedState={setSelectedState}\n          setSelectedCity={setSelectedCity}\n          selectedCity={selectedCity}\n        />\n        <div className=\"container mx-auto p-6 flex-grow\">\n          <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative\">\n            <strong className=\"font-bold\">Error: </strong>\n            <span className=\"block sm:inline\">{error}</span>\n            <button \n              onClick={() => navigate('/webstories')}\n              className=\"mt-4 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\"\n            >\n              Back to Web Stories\n            </button>\n          </div>\n        </div>\n        <Footer />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-gray-50 min-h-screen flex flex-col\">\n      {renderHelmet()}\n      <Navbar\n        selectedState={selectedState}\n        setSelectedState={setSelectedState}\n        setSelectedCity={setSelectedCity}\n        selectedCity={selectedCity}\n      />\n      <div className=\"flex-grow relative w-full\" style={{ height: 'calc(100vh - 140px)' }}>\n        <iframe \n          src={`/webstories/${slug}.html`}\n          title={storyData ? storyData.title : `Web Story - ${slug}`}\n          className=\"w-full h-full absolute inset-0 border-none\"\n          allowFullScreen\n          sandbox=\"allow-scripts allow-same-origin allow-popups allow-forms allow-presentation\"\n        ></iframe>\n      </div>\n      <div className=\"p-4 bg-white shadow-md flex justify-between items-center\">\n        <button \n          onClick={() => navigate('/webstories')}\n          className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\"\n        >\n          Back to All Web Stories\n        </button>\n        {storyData && (\n          <div className=\"text-right\">\n            <p className=\"font-bold text-lg\">₹{storyData.rate} per egg</p>\n            <p className=\"text-sm text-gray-600\">Updated: {storyData.date}</p>\n          </div>\n        )}\n      </div>\n      <Footer />\n    </div>\n  );\n};\n\nexport default WebStoryViewer;\n"],"names":["_ref","src","alt","className","width","height","priority","onError","isLoading","setIsLoading","useState","error","setError","imgRef","useRef","dimensions","setDimensions","useEffect","img","Image","HTMLImageElement","prototype","loading","onload","naturalWidth","naturalHeight","onerror","hasTailwindDimensions","test","placeholder","concat","_jsxs","style","aspectRatio","contain","children","_jsx","ref","undefined","decoding","onLoad","current","transform","e","target","backgroundImage","backgroundSize","willChange","Footer","Date","getFullYear","href","rel","setSelectedCity","setSelectedState","selectedCity","selectedState","options","setOptions","menuOpen","setMenuOpen","navigate","useNavigate","location","useLocation","navigationLock","React","fetch","then","response","json","data","combinedOptions","stateSet","Set","citySet","state","has","push","value","label","type","add","forEach","city","cityName","toLowerCase","cityLabel","catch","console","handleHomeClick","preventDefault","pathname","setTimeout","handleCityClick","path","replace","Link","to","onClick","OptimizedImage","nativeEvent","toggleMenu","FaTimes","size","FaBars","Select","find","option","onChange","selectedOption","split","selectedCityName","styles","control","base","_objectSpread","backgroundColor","borderColor","boxShadow","padding","borderRadius","menu","zIndex","color","WebStoryViewer","slug","useParams","setLoading","storyData","setStoryData","async","ok","Error","story","s","method","err","message","fetchStoryData","Navbar","Helmet","title","name","content","rate","date","property","thumbnail","allowFullScreen","sandbox"],"sourceRoot":""}