"use strict";(self.webpackChunkfood_price_app=self.webpackChunkfood_price_app||[]).push([[7136],{7136:(e,a,t)=>{t.r(a),t.d(a,{default:()=>y});var r=t(9379),s=t(9950),n=t(5907),i=t(2772),d=t(3983),o=t(172),l=t(3600),c=t(2164),g=t(1024),h=t(4414);const y=s.memo((e=>{var a,t,y;let{rates:m=[],showChart:u=!0,itemsPerPage:p=10,showAdmin:b=!1,showSpecialRates:w=!1,chartType:x="bar",onDelete:k,onEdit:v,handleSort:j,showState:C=!1,showDate:S=!1,showPriceColumns:f=!0,selectedCity:N="",selectedState:D="",showMarket:R=!0,isLoading:A=!1}=e;const[L,M]=(0,s.useState)(1),[P,O]=(0,s.useState)({key:N?"date":"city",direction:"ascending"}),[X,E]=(0,s.useState)(null),[I,T]=(0,s.useState)({}),[V,F]=(0,s.useState)(null),H="400px",U="48px",W="600px",_=(0,s.useMemo)((()=>"\n    min-h-[".concat(W,"]\n    bg-white dark:bg-gray-900\n    rounded-lg shadow-lg\n    border border-gray-200 dark:border-gray-700\n    transition-all duration-300\n    hover:shadow-xl\n  ")),[W]),B=(0,s.useMemo)((()=>"\n    min-h-[".concat(H,"]\n    w-full\n    bg-white dark:bg-gray-900\n    border-collapse\n    border-spacing-0\n  ")),[H]),J=(0,s.useMemo)((()=>"\n    h-[".concat(U,"]\n    bg-amber-500 dark:bg-amber-600\n    sticky top-0\n    z-10\n    border-b border-amber-600 dark:border-amber-700\n  ")),[U]),K=(0,s.useCallback)((()=>(0,h.jsx)("div",{className:"".concat(_," animate-pulse"),role:"status","aria-label":"Loading egg rates",children:(0,h.jsxs)("div",{style:{minHeight:H},children:[(0,h.jsx)("div",{className:J}),[...Array(5)].map(((e,a)=>(0,h.jsxs)("div",{style:{height:U},className:"p-4 flex items-center border-t border-gray-100 dark:border-gray-800 space-x-4",children:[(0,h.jsx)("div",{className:"w-1/4 h-4 bg-gray-200 dark:bg-gray-700 rounded"}),(0,h.jsx)("div",{className:"w-1/4 h-4 bg-gray-200 dark:bg-gray-700 rounded"}),(0,h.jsx)("div",{className:"w-1/4 h-4 bg-gray-200 dark:bg-gray-700 rounded"}),(0,h.jsx)("div",{className:"w-1/4 h-4 bg-gray-200 dark:bg-gray-700 rounded"})]},a)))]})})),[_,J]),q=j?m:[...m].sort(((e,a)=>e[P.key]<a[P.key]?"ascending"===P.direction?-1:1:e[P.key]>a[P.key]?"ascending"===P.direction?1:-1:0)),z=L*p,G=q.slice(z-p,z),Q=Array.from({length:Math.ceil((null===m||void 0===m?void 0:m.length)/p)},((e,a)=>a+1)),Y=(0,s.useCallback)((e=>{if(j)j(e);else{let a="ascending";P.key===e&&"ascending"===P.direction&&(a="descending"),O({key:e,direction:a})}}),[j,P]),Z=(0,s.useCallback)((e=>{E(e.id),T(e)}),[]),$=(0,s.useCallback)((()=>{v&&v(I),E(null)}),[v,I]),ee=(0,s.useCallback)((()=>{E(null),T({})}),[]),ae=(0,s.useCallback)((e=>{const{name:a,value:t}=e.target;T((e=>(0,r.A)((0,r.A)({},e),{},{[a]:t})))}),[]),te=(0,s.useCallback)((e=>(0,h.jsx)("svg",P.key!==e?{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"})}:{className:"w-4 h-4 text-amber-800 dark:text-amber-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"ascending"===P.direction?"M8 7l4-4m0 0l4 4m-4-4v18":"M16 17l-4 4m0 0l-4-4m4 4V3"})})),[P]),re=N?[...q].sort(((e,a)=>new Date(a.date)-new Date(e.date))):Object.values(q.reduce(((e,a)=>((!e[a.city]||new Date(a.date)>new Date(e[a.city].date))&&(e[a.city]=a),e)),{})),se=(null===(a=q[0])||void 0===a?void 0:a.rate)||0,ne=(null===(t=q[1])||void 0===t?void 0:t.rate)||se,ie=se-ne,de=ne?ie/ne*100:0,oe=30*se,le=null!==(y=q[0])&&void 0!==y&&y.date?new Date(q[0].date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):(new Date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),ce=e=>e?String(e).toLowerCase():"",ge=(0,s.useMemo)((()=>N?{"@context":"https://schema.org","@type":"LocalBusiness",name:"Egg Market ".concat(N),description:"Find today's egg rates in ".concat(N,", ").concat(D,". Updated daily NECC egg prices and wholesale egg rates."),address:{"@type":"PostalAddress",addressLocality:String(N),addressRegion:String(D),addressCountry:"IN"},image:"https://todayeggrates.com/eggpic.webp",priceRange:"\u20b9\u20b9",telephone:"+91-XXXXXXXXXX",url:"https://todayeggrates.com/".concat(ce(N),"-egg-rate-today"),aggregateRating:{"@type":"AggregateRating",ratingValue:"4.8",ratingCount:"254"},openingHoursSpecification:[{"@type":"OpeningHoursSpecification",dayOfWeek:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],opens:"06:00",closes:"21:00"}],offers:{"@type":"Offer",itemOffered:{"@type":"Product",name:"Eggs",description:"Fresh eggs in ".concat(N,", ").concat(D),offers:{"@type":"Offer",price:String(se||0),priceCurrency:"INR",availability:"https://schema.org/InStock",priceValidUntil:new Date((new Date).setDate((new Date).getDate()+1)).toISOString().split("T")[0]}}}}:null),[N,D,se]),he=(0,s.useMemo)((()=>N?{"@context":"https://schema.org","@type":"Product",name:"Eggs in ".concat(N,", ").concat(D),description:"Fresh eggs available in ".concat(N,", ").concat(D,". Check today's egg price."),image:"https://todayeggrates.com/eggpic.webp",offers:{"@type":"Offer",url:"https://todayeggrates.com/".concat(ce(N),"-egg-rate-today"),priceCurrency:"INR",price:String(se||0),priceValidUntil:new Date((new Date).setDate((new Date).getDate()+1)).toISOString().split("T")[0],availability:"https://schema.org/InStock",itemCondition:"https://schema.org/NewCondition"},aggregateRating:{"@type":"AggregateRating",ratingValue:"4.8",reviewCount:"254"}}:null),[N,D,se]);return(0,s.useMemo)((()=>A?K():m&&0!==(null===m||void 0===m?void 0:m.length)?(0,h.jsxs)(h.Fragment,{children:[N&&!A&&(0,h.jsxs)(i.m,{children:[ge&&(0,h.jsx)("script",{type:"application/ld+json",children:JSON.stringify(ge)}),he&&(0,h.jsx)("script",{type:"application/ld+json",children:JSON.stringify(he)})]}),(0,h.jsxs)("div",{className:_,children:[w&&(0,h.jsxs)("div",{className:"p-6 bg-white dark:bg-gray-800 rounded-t-lg border-b border-gray-200 dark:border-gray-700",children:[(0,h.jsx)("h2",{className:"text-2xl md:text-3xl font-bold text-center text-gray-800 dark:text-gray-100",children:"Special Rates"}),(0,h.jsx)("p",{className:"text-center text-gray-600 dark:text-gray-400 mt-2",children:"Today's wholesale egg rates for special markets and bulk buyers"})]}),!w&&(null===re||void 0===re?void 0:re.length)>0&&(0,h.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-t-lg",children:(0,h.jsx)(o.A,{latestRate:se,latestRateDate:le,rateChange:ie,percentageChange:de,trayPrice:oe})}),(0,h.jsx)("div",{className:"overflow-x-auto bg-white dark:bg-gray-800 rounded-lg",children:(0,h.jsxs)("table",{className:"min-w-full border-collapse",role:"table","aria-label":"Egg Rates Table",children:[(0,h.jsx)("thead",{className:J,children:(0,h.jsx)(d.A,{selectedCity:N,showMarket:R,showState:C,showDate:S,showPriceColumns:f,showSpecialRates:w,showAdmin:b,sortConfig:P,requestSort:Y,getSortIcon:te})}),(0,h.jsx)("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:G.map(((e,a)=>(0,h.jsx)(l.A,{rate:e,index:a,hoveredRow:V,selectedCity:N,showMarket:R,showState:C,showDate:S,showPriceColumns:f,showSpecialRates:w,showAdmin:b,editingRate:X,editedRate:I,handleChange:ae,handleEditClick:Z,handleSaveClick:$,handleCancelClick:ee,onDelete:k,setHoveredRow:F,rowHeight:U},"".concat(e.city,"-").concat(e.date,"-").concat(a))))})]})}),(0,h.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-b-lg border-t border-gray-200 dark:border-gray-700",children:(0,h.jsx)(c.A,{currentPage:L,setCurrentPage:M,pages:Q,isLoading:A})}),u&&(0,h.jsx)("div",{className:"mt-6 bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm",children:(0,h.jsx)(n.A,{data:G,type:N?"line":"bar",xKey:N?"date":"city",yKey:"rate",title:N?"".concat(N," Egg Price Trend"):"Egg Rates by City",isLoading:A})}),(0,h.jsx)("div",{className:"mt-6",children:(0,h.jsx)(g.A,{selectedCity:N,selectedState:D||"India",isLoading:A})})]})]}):(0,h.jsx)("div",{className:"".concat(B," flex items-center justify-center p-8"),children:(0,h.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"No data available"})})),[A,m,N,D,w,re,se,le,ie,de,oe,G,L,I,X,V,ge,he,$,k,K,Y,ee,ae,Z,_,J,B,te,b,u,S,R,f,C,P,Q])}))}}]);