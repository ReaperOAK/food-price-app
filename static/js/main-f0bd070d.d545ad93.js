"use strict";(self.webpackChunkfood_price_app=self.webpackChunkfood_price_app||[]).push([[7462],{9330:(t,e,r)=>{r.d(e,{A:()=>c});var a=r(9379),n=r(9950),o=r(4414);const i=(0,n.memo)((t=>{let{src:e,alt:r,className:i="",width:c,height:s,priority:l=!1,sizes:d,onLoad:u,onError:h,fallbackSrc:w="/logo.webp",blur:g=!0,quality:p="auto"}=t;const[m,f]=(0,n.useState)(!1),[x,b]=(0,n.useState)(!1),[v,y]=(0,n.useState)(!1),k=(0,n.useRef)(null),j=(0,n.useRef)(null),[N,C]=(0,n.useState)({width:c||0,height:s||0}),I=(0,n.useCallback)((()=>{if(c&&s)return C({width:c,height:s}),y(!0),()=>{};{const t=new Image;t.src=e,"loading"in HTMLImageElement.prototype&&!l&&(t.loading="lazy");const r=()=>{b(!0),null===h||void 0===h||h()};return t.onload=()=>{C({width:t.naturalWidth,height:t.naturalHeight}),y(!0),f(!0),null===u||void 0===u||u()},t.onerror=r,()=>{t.onload=null,t.onerror=null}}}),[e,c,s,l,u,h]);(0,n.useEffect)((()=>I()),[I]),(0,n.useEffect)((()=>{if(!l&&k.current&&"IntersectionObserver"in window)return j.current=new IntersectionObserver((t=>{t.forEach((t=>{t.isIntersecting&&k.current&&k.current.setAttribute("fetchpriority","high")}))}),{rootMargin:"50px"}),j.current.observe(k.current),()=>{j.current&&j.current.disconnect()}}),[l]);const L=/w-\d+|h-\d+/.test(i),z=v?N.height/N.width*100:56.25,S=(0,n.useCallback)((()=>{if(d)return d;if(i.includes("w-full"))return"(max-width: 640px) 100vw, (max-width: 768px) 80vw, (max-width: 1024px) 60vw, 1200px";if(i.match(/w-(\d+)\/(\d+)/)){const[,t,e]=i.match(/w-(\d+)\/(\d+)/),r=t/e*100;return"(max-width: 640px) ".concat(r,"vw, (max-width: 768px) ").concat(.8*r,"vw, ").concat(.6*r,"vw")}return"(max-width: 640px) 100vw, (max-width: 768px) 50vw, 33vw"}),[i,d]),E=(0,n.useCallback)((t=>t.includes("/webstories/")?t:[300,600,900].map((e=>{const r=t.replace(".webp","-".concat(e,".webp")).replace("/","/optimized/");return"".concat(r," ").concat(e,"w")})).concat("".concat(t," 1200w")).join(", ")),[]);return(0,o.jsxs)("div",{className:"relative overflow-hidden ".concat(L?"":"w-full"),style:{width:c?"".concat(c,"px"):"100%",aspectRatio:N.width&&N.height?"".concat(N.width,"/").concat(N.height):"16/9",contain:"layout paint style"},children:[(0,o.jsx)("div",{style:{paddingTop:"".concat(z,"%"),contain:"strict"},className:"".concat(x?"bg-gray-200 dark:bg-gray-700":"bg-gray-100 dark:bg-gray-800","\n                   transition-colors duration-200"),"aria-hidden":"true"}),!x&&v&&(0,o.jsx)("img",(0,a.A)((0,a.A)({ref:k,src:e,alt:r,crossOrigin:"anonymous",width:N.width||void 0,height:N.height||void 0,className:"\n            absolute top-0 left-0 w-full h-full object-cover \n            ".concat(i," \n            ").concat(m?"opacity-100 blur-0":"opacity-0 blur-sm","\n            transition-all duration-500\n            motion-reduce:transition-none\n            dark:brightness-90\n          "),loading:l?"eager":"lazy",decoding:l?"sync":"async",sizes:S()},!e.includes("/webstories/")&&{srcSet:E(e)}),{},{fetchpriority:l||/hero|banner/.test((A=i,A?String(A).toLowerCase():""))?"high":"auto",onLoad:t=>{f(!0),k.current&&(k.current.style.transform="translateZ(0)"),null===u||void 0===u||u(t)},onError:t=>{b(!0),t.target.onerror=null,t.target.src=w,null===h||void 0===h||h(t)},style:{contain:"layout paint style",willChange:"transform",transform:"translateZ(0)"}})),x&&(0,o.jsx)("div",{className:"absolute top-0 left-0 w-full h-full flex items-center justify-center bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 transition-colors duration-200",role:"alert","aria-label":"Image failed to load",children:(0,o.jsxs)("div",{className:"flex flex-col items-center space-y-2",children:[(0,o.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),(0,o.jsx)("span",{className:"text-sm font-medium",children:"Image not available"})]})})]});var A}));i.displayName="OptimizedImage";const c=i}}]);