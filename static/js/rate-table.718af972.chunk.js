"use strict";(self.webpackChunkfood_price_app=self.webpackChunkfood_price_app||[]).push([[270],{5927:(e,t,s)=>{s.r(t),s.d(t,{default:()=>n});var a=s(5043),r=s(579);const c=e=>{let{rates:t=[],itemsPerPage:s=10,showAdmin:c=!1,onDelete:n,onEdit:i,handleSort:l,showState:o=!1,showDate:d=!1,showPriceColumns:g=!0,selectedCity:h="",selectedState:p=""}=e;const[x,y]=(0,a.useState)(1),[m,u]=(0,a.useState)({key:"city",direction:"ascending"}),[j,b]=(0,a.useState)(!1),N=(0,a.useCallback)((e=>{l?l(e):u((t=>({key:e,direction:t.key===e&&"ascending"===t.direction?"descending":"ascending"})))}),[l]),f=(0,a.useMemo)((()=>l?t:[...t].sort(((e,t)=>{const s=e[m.key],a=t[m.key];return"ascending"===m.direction?s<a?-1:s>a?1:0:s>a?-1:s<a?1:0}))),[t,m,l]),k=(0,a.useCallback)((e=>{y(e)}),[]),v=Math.ceil(((null===t||void 0===t?void 0:t.length)||0)/s),C=x*s,w=C-s,S=f.slice(w,C);(0,a.useEffect)((()=>{const e=new IntersectionObserver((t=>{let[s]=t;s.isIntersecting&&(b(!0),e.disconnect())}),{threshold:.1}),t=document.querySelector(".rate-table-container");return t&&e.observe(t),()=>e.disconnect()}),[]);const D=(0,a.useCallback)((()=>{const e=[];for(let t=1;t<=v;t++)e.push((0,r.jsx)("button",{onClick:()=>k(t),className:"px-3 py-1 mx-1 rounded ".concat(x===t?"bg-blue-600 text-white":"bg-gray-200 hover:bg-gray-300"),"aria-label":"Page ".concat(t),children:t},t));return e}),[x,v,k]),P=(0,a.useCallback)((()=>{var e;if(!h)return null;const t={"@context":"https://schema.org","@type":"LocalBusiness",name:"Egg Market ".concat(h),description:"Find today's egg rates in ".concat(h,", ").concat(p,". Updated daily NECC egg prices and wholesale egg rates."),address:{"@type":"PostalAddress",addressLocality:h,addressRegion:p,addressCountry:"IN"},url:"https://todayeggrates.com/".concat(h.toLowerCase(),"-egg-rate"),aggregateRating:{"@type":"AggregateRating",ratingValue:"4.8",ratingCount:"254"},priceRange:"\u20b9\u20b9",offers:{"@type":"Offer",itemOffered:{"@type":"Product",name:"Eggs",description:"Fresh eggs in ".concat(h,", ").concat(p),offers:{"@type":"Offer",price:(null===(e=f[0])||void 0===e?void 0:e.rate)||0,priceCurrency:"INR",availability:"https://schema.org/InStock",priceValidUntil:new Date((new Date).setDate((new Date).getDate()+1)).toISOString().split("T")[0]}}}};return(0,r.jsx)("script",{type:"application/ld+json",children:JSON.stringify(t)})}),[h,p,f]);return t&&0!==t.length?(0,r.jsx)("div",{className:"rate-table-container",children:j&&(0,r.jsxs)(r.Fragment,{children:[P(),(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full bg-white border-collapse",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"bg-gray-50",children:[o&&(0,r.jsxs)("th",{className:"px-4 py-2 text-left cursor-pointer hover:bg-gray-100",onClick:()=>N("state"),children:["State","state"===m.key&&(0,r.jsx)("span",{className:"ml-1",children:"ascending"===m.direction?"\u2191":"\u2193"})]}),(0,r.jsxs)("th",{className:"px-4 py-2 text-left cursor-pointer hover:bg-gray-100",onClick:()=>N("city"),children:["City","city"===m.key&&(0,r.jsx)("span",{className:"ml-1",children:"ascending"===m.direction?"\u2191":"\u2193"})]}),g&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("th",{className:"px-4 py-2 text-left cursor-pointer hover:bg-gray-100",onClick:()=>N("rate"),children:["Rate","rate"===m.key&&(0,r.jsx)("span",{className:"ml-1",children:"ascending"===m.direction?"\u2191":"\u2193"})]}),(0,r.jsxs)("th",{className:"px-4 py-2 text-left cursor-pointer hover:bg-gray-100",onClick:()=>N("retailPrice"),children:["Retail Price","retailPrice"===m.key&&(0,r.jsx)("span",{className:"ml-1",children:"ascending"===m.direction?"\u2191":"\u2193"})]})]}),d&&(0,r.jsxs)("th",{className:"px-4 py-2 text-left cursor-pointer hover:bg-gray-100",onClick:()=>N("date"),children:["Date","date"===m.key&&(0,r.jsx)("span",{className:"ml-1",children:"ascending"===m.direction?"\u2191":"\u2193"})]}),c&&(0,r.jsx)("th",{className:"px-4 py-2 text-left",children:"Actions"})]})}),(0,r.jsx)("tbody",{children:S.map(((e,t)=>(0,r.jsxs)("tr",{className:t%2===0?"bg-white":"bg-gray-50",children:[o&&(0,r.jsx)("td",{className:"px-4 py-2",children:e.state}),(0,r.jsx)("td",{className:"px-4 py-2",children:e.city}),d&&(0,r.jsx)("td",{className:"px-4 py-2",children:new Date(e.date).toLocaleDateString()}),g&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("td",{className:"px-4 py-2",children:["\u20b9",e.rate]}),(0,r.jsxs)("td",{className:"px-4 py-2",children:["\u20b9",(30*e.rate).toFixed(2)]})]}),c&&(0,r.jsxs)("td",{className:"px-4 py-2",children:[(0,r.jsx)("button",{onClick:()=>i(e),className:"mr-2 text-blue-600 hover:text-blue-800",children:"Edit"}),(0,r.jsx)("button",{onClick:()=>n(e.id),className:"text-red-600 hover:text-red-800",children:"Delete"})]})]},e.id||t)))})]})}),(0,r.jsx)("div",{className:"flex justify-center mt-4",children:D()})]})}):(0,r.jsx)("div",{className:"text-center p-4",children:(0,r.jsx)("p",{className:"text-gray-600",children:"No rates available at the moment."})})},n=(0,a.memo)(c)}}]);
//# sourceMappingURL=rate-table.718af972.chunk.js.map