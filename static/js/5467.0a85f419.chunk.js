"use strict";(self.webpackChunkfood_price_app=self.webpackChunkfood_price_app||[]).push([[5467],{5467:(e,n,r)=>{r.d(n,{A:()=>p});var t=r(9379),a=r(9950),s=r(8429),o=r(2074),l=r(2875),i=r(5732),c=r(7233),d=r(1607),u=r(1637),m=r(6900),h=r(4414);const f=e=>e?String(e).toLowerCase():"",x=(0,a.memo)((e=>{let{setSelectedCity:n,setSelectedState:r,selectedCity:x,selectedState:p}=e;const[g,v]=(0,a.useState)(!1),[b,w]=(0,a.useState)(!1),[y,C]=(0,a.useState)(!1),k=(0,a.useRef)(null),A=(0,a.useRef)(null),j=(0,a.useRef)(null),F=(0,s.Zp)(),E=(0,s.zy)(),{isDark:N}=(0,i.D)(),{options:S,isLoading:B,error:L}=(0,m.A)(),D=(0,a.useRef)(!1);(0,a.useEffect)((()=>{let e=window.scrollY,n=!1;const r=()=>{n||(window.requestAnimationFrame((()=>{w(e>20),n=!1})),n=!0),e=window.scrollY};return window.addEventListener("scroll",r,{passive:!0}),()=>window.removeEventListener("scroll",r)}),[]),(0,a.useEffect)((()=>{if(!g)return;const e=e=>{k.current&&!k.current.contains(e.target)&&v(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)}),[g]),(0,a.useEffect)((()=>{v(!1)}),[E.pathname]),(0,a.useEffect)((()=>{if(!g)return;const e=e=>{var n;if("Escape"!==e.key){if("Tab"===e.key)if(e.shiftKey||document.activeElement!==j.current){if(e.shiftKey&&document.activeElement===A.current){var r;e.preventDefault(),null===(r=j.current)||void 0===r||r.focus()}}else e.preventDefault(),null===(n=A.current)||void 0===n||n.focus()}else v(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)}),[g]);const R=(0,a.useCallback)((e=>{if(!e)return"";const n=f(e);return"bangalore"===n||"bangalore (cc)"===n||"bengaluru (cc)"===n||"bengaluru"===n?"Bengaluru":e}),[]),_=(0,a.useCallback)((e=>{if(!e||D.current)return;D.current=!0;const{value:t,state:a}=e,s=R(t);s?(n(s),r(a||""),requestAnimationFrame((()=>{const e="/".concat(f(s),"-egg-rate-today");E.pathname!==e&&F(e,{replace:!1}),setTimeout((()=>{D.current=!1}),100)}))):D.current=!1}),[F,E.pathname,n,r,R]),q=(0,a.useCallback)((e=>{D.current?e.preventDefault():(D.current=!0,n(""),r(""),requestAnimationFrame((()=>{"/"!==E.pathname&&F("/"),setTimeout((()=>{D.current=!1}),100)})))}),[F,E.pathname,n,r]),z=(0,a.useCallback)(((e,t)=>{!D.current&&e?(D.current=!0,n(e),r(""),requestAnimationFrame((()=>{const n=e&&"string"===typeof e?e:"",r=n?"/".concat(f(n),"-egg-rate-today"):"/";E.pathname!==r&&F(r,{replace:!1}),setTimeout((()=>{D.current=!1}),100)}))):null===t||void 0===t||t.preventDefault()}),[F,E.pathname,n,r]),M=(0,a.useCallback)((()=>{v((e=>!e))}),[]),O=(0,a.useMemo)((()=>({control:(e,n)=>(0,t.A)((0,t.A)({},e),{},{backgroundColor:N?"#1F2937":"white",borderColor:n.isFocused?"#3B82F6":N?"#374151":"#E5E7EB",boxShadow:n.isFocused?"0 0 0 2px rgba(59, 130, 246, 0.5)":"none","&:hover":{borderColor:"#3B82F6"},padding:"0.5rem",borderRadius:"0.5rem",minHeight:"3rem",transition:"all 0.2s ease"}),menu:e=>(0,t.A)((0,t.A)({},e),{},{zIndex:9999,backgroundColor:N?"#1F2937":"white",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",borderRadius:"0.5rem",overflow:"hidden"}),option:(e,n)=>(0,t.A)((0,t.A)({},e),{},{backgroundColor:n.isSelected?"#3B82F6":n.isFocused?N?"#374151":"#EFF6FF":N?"#1F2937":"white",color:n.isSelected?"white":N?"#E5E7EB":"#1F2937",padding:"0.75rem 1rem","&:active":{backgroundColor:"#2563EB"},cursor:"pointer"}),placeholder:e=>(0,t.A)((0,t.A)({},e),{},{color:N?"#9CA3AF":"#6B7280"}),loadingMessage:e=>(0,t.A)((0,t.A)({},e),{},{color:N?"#9CA3AF":"#6B7280"}),noOptionsMessage:e=>(0,t.A)((0,t.A)({},e),{},{color:N?"#9CA3AF":"#6B7280"})})),[N]);return(0,h.jsxs)("nav",{ref:k,className:"\n        sticky top-0 z-50 \n        ".concat(b?N?"bg-gray-900/95 shadow-lg shadow-gray-900/20":"bg-white/95 shadow-lg":N?"bg-gray-900":"bg-white","\n        backdrop-blur-lg\n        transition-all duration-200\n      "),role:"navigation","aria-label":"Main navigation",children:["      ",(0,h.jsxs)("div",{className:"container mx-auto px-2 sm:px-4 w-full max-w-7xl",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between h-16 min-w-0",children:[(0,h.jsx)("div",{className:"flex-shrink-0",children:(0,h.jsx)(o.N_,{to:"/",onClick:q,ref:A,className:"flex-shrink-0 rounded-lg","aria-label":"Go to homepage",children:(0,h.jsx)(c.A,{})})}),"          ",(0,h.jsxs)("div",{className:"hidden lg:flex flex-1 items-center justify-between ml-4 xl:ml-8 min-w-0",children:[(0,h.jsx)("div",{className:"flex-1 flex justify-center min-w-0 overflow-hidden",children:(0,h.jsx)("div",{className:"flex items-center space-x-1 max-w-full overflow-hidden",children:(0,h.jsx)(d.A,{handleHomeClick:q,handleCityClick:z})})}),(0,h.jsx)("div",{className:"flex-shrink-0 w-48 xl:w-64 ml-4",children:(0,h.jsx)(u.A,{options:S,selectedCity:x,selectedState:p,handleChange:_,isLoading:B,error:L,selectStyles:O,onFocus:()=>C(!0),onBlur:()=>C(!1),isSearchFocused:y,ref:j})})]}),(0,h.jsx)("div",{className:"lg:hidden flex items-center",children:(0,h.jsxs)("button",{className:"inline-flex items-center justify-center p-2 rounded-lg text-gray-700 hover:text-blue-600  hover:bg-gray-100 dark:text-gray-300 dark:hover:text-blue-400 dark:hover:bg-gray-800 focus:outline-none focus:ring-2  focus:ring-blue-500 transition-colors duration-200",onClick:M,"aria-controls":"mobile-menu","aria-expanded":g,"aria-label":g?"Close menu":"Open menu",children:[(0,h.jsx)("span",{className:"sr-only",children:g?"Close menu":"Open menu"}),(0,h.jsx)(g?l.QCr:l.OXb,{size:24})]})})]}),(0,h.jsxs)("div",{id:"mobile-menu",className:"\n            ".concat(g?"max-h-[calc(100vh-4rem)] opacity-100":"max-h-0 opacity-0","\n            lg:hidden overflow-hidden transition-all duration-300 ease-in-out\n          "),"aria-hidden":!g,children:[(0,h.jsx)("div",{className:"px-2 pt-4 pb-3",children:(0,h.jsx)(u.A,{options:S,selectedCity:x,selectedState:p,handleChange:_,isLoading:B,error:L,selectStyles:O,onFocus:()=>C(!0),onBlur:()=>C(!1),isSearchFocused:y})}),(0,h.jsx)("div",{className:"px-2 pb-4",children:(0,h.jsx)(d.A,{handleHomeClick:q,handleCityClick:z})})]})]}),g&&(0,h.jsx)("div",{tabIndex:0,onFocus:()=>{var e;return null===(e=A.current)||void 0===e?void 0:e.focus()},className:"sr-only",children:"End of menu"})]})}));x.displayName="Navbar";const p=x}}]);