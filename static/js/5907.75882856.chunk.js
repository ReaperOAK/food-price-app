"use strict";(self.webpackChunkfood_price_app=self.webpackChunkfood_price_app||[]).push([[5907],{5907:(e,r,a)=>{a.d(r,{A:()=>d});var t=a(9379),i=a(9950),o=a(278),s=a(6187),n=a(4414);o.t1.register(o.PP,o.kc,o.FN,o.No,o.E8,o.hE,o.m_);const l={responsive:!0,maintainAspectRatio:!1,font:{family:"system-ui, -apple-system, sans-serif"},animation:{duration:750,easing:"easeInOutQuart"},interaction:{intersect:!1,mode:"index"},elements:{point:{hoverRadius:6,hoverBorderWidth:2}}},d=i.memo((e=>{let{data:r=[],title:a="Price Chart",type:o="bar",xKey:d="city",yKey:c="rate",isLoading:m=!1}=e;const[p,b]=(0,i.useState)(window.innerWidth<640?300:350);if((0,i.useEffect)((()=>{const e=()=>{b(window.innerWidth<640?300:350)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[]),m)return(0,n.jsx)("div",{className:"animate-pulse w-full h-[350px] bg-gray-100 dark:bg-gray-800 rounded-lg flex items-center justify-center shadow-sm transition-shadow duration-300",role:"status","aria-label":"Loading chart data",children:(0,n.jsxs)("div",{className:"flex flex-col items-center space-y-2",children:[(0,n.jsx)("div",{className:"w-8 h-8 border-4 border-blue-200 dark:border-blue-900 border-t-blue-500 rounded-full animate-spin"}),(0,n.jsx)("span",{className:"text-gray-500 dark:text-gray-400 font-medium",children:"Loading chart..."})]})});if(!r||0===(null===r||void 0===r?void 0:r.length))return(0,n.jsx)("div",{className:"w-full h-[350px] bg-white dark:bg-gray-800 rounded-lg flex items-center justify-center shadow-sm text-center p-4 border border-gray-100 dark:border-gray-700",role:"alert","aria-label":"No data available",children:(0,n.jsxs)("div",{className:"flex flex-col items-center space-y-2",children:[(0,n.jsx)("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,n.jsx)("span",{className:"text-gray-500 dark:text-gray-400 font-medium",children:"No data available"}),(0,n.jsx)("p",{className:"text-sm text-gray-400 dark:text-gray-500 mt-1",children:"Check back later for updates"})]})});const g={labels:r.map((e=>{return r=e[d],"date"===d&&r?new Date(r).toLocaleDateString("en-US",{month:"short",day:"numeric"}):r;var r})),datasets:[{label:a,data:r.map((e=>e[c])),backgroundColor:e=>{if("line"===o){const r=e.chart,{ctx:a,chartArea:t}=r;if(!t)return"rgb(59, 130, 246)";const i=a.createLinearGradient(0,t.bottom,0,t.top);return i.addColorStop(0,"rgba(59, 130, 246, 0.1)"),i.addColorStop(1,"rgba(59, 130, 246, 0.4)"),i}return"rgba(59, 130, 246, 0.7)"},borderColor:"rgb(59, 130, 246)",borderWidth:"line"===o?2.5:1,tension:"line"===o?.4:0,pointRadius:"line"===o?4:0,pointBackgroundColor:"#ffffff",pointBorderColor:"rgb(59, 130, 246)",pointBorderWidth:2,fill:!0,hoverBackgroundColor:"rgba(59, 130, 246, 0.8)",hoverBorderColor:"rgb(37, 99, 235)",hoverBorderWidth:2}]},h=(0,t.A)((0,t.A)({},l),{},{plugins:{title:{display:!0,text:a,padding:20,font:{size:16,weight:"600",family:"system-ui, -apple-system, sans-serif"},color:"#1f2937"},tooltip:{enabled:!0,backgroundColor:"rgba(255, 255, 255, 0.95)",titleColor:"#1f2937",bodyColor:"#1f2937",borderColor:"rgba(0, 0, 0, 0.1)",borderWidth:1,padding:12,cornerRadius:8,displayColors:!0,titleFont:{size:14,weight:"600"},bodyFont:{size:13},callbacks:{label:e=>{const r=e.raw.toFixed(2);return"\u20b9".concat(r," per piece")},title:e=>{const r=e[0].label;return"date"===d?"Date: ".concat(r):"Market: ".concat(r)}},animation:{duration:150}},legend:{display:!1}},scales:{y:{beginAtZero:!1,grid:{color:"rgba(0, 0, 0, 0.05)",drawBorder:!1,lineWidth:.5},border:{display:!1},ticks:{callback:e=>"\u20b9".concat(Number(e).toFixed(2)),color:"#6b7280",font:{size:11,family:"system-ui, -apple-system, sans-serif"},padding:8,maxTicksLimit:8},afterFit:e=>{e.width=60}},x:{grid:{display:!1},border:{display:!1},ticks:{maxRotation:"line"===o?45:0,minRotation:"line"===o?45:0,color:"#6b7280",font:{size:11,family:"system-ui, -apple-system, sans-serif"},padding:8,maxTicksLimit:"line"===o?8:12,autoSkip:!0}}}}),u="line"===o?s.N1:s.yP;return(0,n.jsx)("div",{className:"w-full bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm hover:shadow-md transition-all duration-300 border border-gray-100 dark:border-gray-700",style:{height:"".concat(p,"px"),maxHeight:"500px"},children:(0,n.jsx)("div",{className:"w-full h-full",role:"img","aria-label":"".concat(a," visualization"),children:(0,n.jsx)(u,{data:g,options:h,"aria-label":"Chart showing ".concat(a),role:"presentation"})})})}))}}]);