"use strict";(self.webpackChunkfood_price_app=self.webpackChunkfood_price_app||[]).push([[7462],{9330:(t,e,r)=>{r.d(e,{A:()=>l});var a=r(9379),n=r(9950),o=r(6225),s=r(4414);const i=(0,n.memo)((t=>{let{src:e,alt:r,className:i="",width:l,height:c,priority:u=!1,sizes:d,onLoad:h,onError:g,fallbackSrc:f="/logo.webp",blur:m=!0,quality:p="auto",debug:y=!1}=t;const[b,w]=(0,n.useState)(!1),[v,k]=(0,n.useState)(!1),[x,j]=(0,n.useState)(!1),[S,N]=(0,n.useState)(e),[C,I]=(0,n.useState)(0),[L,z]=(0,n.useState)(!1),[E,O]=(0,n.useState)(!1),A=(0,n.useRef)(null),_=(0,n.useRef)(null),[R,T]=(0,n.useState)({width:l||0,height:c||0});(0,n.useEffect)((()=>{N(e),k(!1),w(!1),I(0),z(!1);const t=setTimeout((()=>{z(!0)}),100);return()=>clearTimeout(t)}),[e,y]);const M=(0,n.useCallback)((()=>{if(!S||!L)return()=>{};if(w(!1),k(!1),j(!1),l&&c)return T({width:l,height:c}),j(!0),()=>{};const t=new Image;return t.crossOrigin="anonymous",t.onload=()=>{T({width:t.naturalWidth,height:t.naturalHeight}),j(!0),w(!0),O(!0),null===h||void 0===h||h()},t.onerror=()=>{E||(I((t=>t+1)),k(!0)),null===g||void 0===g||g()},t.src=S,()=>{t.onload=null,t.onerror=null}}),[S,l,c,h,g,y,C,L,E]);(0,n.useEffect)((()=>M()),[M,L]),(0,n.useEffect)((()=>{if(!u&&A.current&&"IntersectionObserver"in window)return _.current=new IntersectionObserver((t=>{t.forEach((t=>{t.isIntersecting&&A.current&&A.current.setAttribute("fetchpriority","high")}))}),{rootMargin:"50px"}),_.current.observe(A.current),()=>{_.current&&_.current.disconnect()}}),[u]);const W=/w-\d+|h-\d+/.test(i),Z=x?R.height/R.width*100:56.25,q=(0,n.useCallback)((()=>(0,o.zD)(i,d)),[i,d]),B=(0,n.useCallback)((()=>(0,o.GO)(S)),[S]);return(0,s.jsxs)("div",{className:"relative overflow-hidden ".concat(W?"":"w-full"),style:{width:l?"".concat(l,"px"):"100%",aspectRatio:R.width&&R.height?"".concat(R.width,"/").concat(R.height):"16/9",contain:"layout paint style"},children:[(0,s.jsx)("div",{style:{paddingTop:"".concat(Z,"%"),contain:"strict"},className:"".concat(v?"bg-gray-200 dark:bg-gray-700":"bg-gray-100 dark:bg-gray-800","\n                   transition-colors duration-200"),"aria-hidden":"true"}),"        ",!v&&x&&(0,s.jsx)("img",(0,a.A)((0,a.A)({ref:A,src:S,alt:r,crossOrigin:"anonymous",width:R.width||void 0,height:R.height||void 0,className:"\n            absolute top-0 left-0 w-full h-full object-cover \n            ".concat(i," \n            ").concat(b||E?"opacity-100 blur-0":"opacity-0 blur-sm","\n            transition-all duration-500\n            motion-reduce:transition-none\n            dark:brightness-90\n          "),loading:u?"eager":"lazy",decoding:u?"sync":"async",sizes:q()},B()&&{srcSet:B()}),{},{fetchpriority:u||/hero|banner/.test((D=i,D?String(D).toLowerCase():""))?"high":"auto",onLoad:t=>{w(!0),O(!0),A.current&&(A.current.style.transform="translateZ(0)"),null===h||void 0===h||h(t)},onError:t=>{if(!E){if(S!==f&&f&&C<2)return N(f),I((t=>t+1)),void(t.target.srcset="");k(!0),w(!1)}null===g||void 0===g||g(t)},style:{contain:"layout paint style",willChange:b?"auto":"transform",transform:"translateZ(0)"}})),v&&(0,s.jsx)("div",{className:"absolute top-0 left-0 w-full h-full flex items-center justify-center bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 transition-colors duration-200",role:"alert","aria-label":"Image failed to load",children:(0,s.jsxs)("div",{className:"flex flex-col items-center space-y-2",children:[(0,s.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),(0,s.jsx)("span",{className:"text-sm font-medium",children:"Image not available"})]})})]});var D}));i.displayName="OptimizedImage";const l=i}}]);