"use strict";(self.webpackChunkfood_price_app=self.webpackChunkfood_price_app||[]).push([[5467],{5467:(e,n,a)=>{a.d(n,{A:()=>h});var r=a(9379),t=a(9950),o=a(8429),s=a(2074),l=a(2875),c=a(7233),i=a(1607),d=a(1637),u=a(6900),m=a(4414);const p=(0,t.memo)((e=>{let{setSelectedCity:n,setSelectedState:a,selectedCity:p,selectedState:h}=e;const[b,x]=(0,t.useState)(!1),[g,f]=(0,t.useState)(!1),[v,w]=(0,t.useState)(!1),k=(0,t.useRef)(null),C=(0,o.Zp)(),y=(0,o.zy)(),{options:A,isLoading:E,error:j}=(0,u.A)(),F=(0,t.useRef)(!1);(0,t.useEffect)((()=>{const e=()=>{const e=window.scrollY>20;f(e)};return window.addEventListener("scroll",e,{passive:!0}),()=>window.removeEventListener("scroll",e)}),[]),(0,t.useEffect)((()=>{const e=e=>{k.current&&!k.current.contains(e.target)&&x(!1)};if(b)return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)}),[b]),(0,t.useEffect)((()=>{x(!1)}),[y.pathname]),(0,t.useEffect)((()=>{const e=e=>{"Escape"===e.key&&x(!1)};if(b)return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)}),[b]);const N=(0,t.useCallback)((e=>{const n=e.toLowerCase();return"bangalore"===n||"bangalore (cc)"===n||"bengaluru (cc)"===n||"bengaluru"===n?"Bengaluru":e}),[]),S=(0,t.useCallback)((e=>{if(!e||F.current)return;F.current=!0;const{value:r,state:t}=e,o=N(r);n(o),a(t||""),requestAnimationFrame((()=>{const e="/".concat(o.toLowerCase(),"-egg-rate");y.pathname!==e&&C(e,{replace:!0}),F.current=!1}))}),[C,y.pathname,n,a,N]),L=(0,t.useCallback)((e=>{F.current?e.preventDefault():(F.current=!0,n(""),a(""),"/"!==y.pathname&&C("/"),requestAnimationFrame((()=>{F.current=!1})))}),[C,y.pathname,n,a]),B=(0,t.useCallback)(((e,r)=>{F.current?null===r||void 0===r||r.preventDefault():(F.current=!0,n(e),a(""),requestAnimationFrame((()=>{const n="/".concat(e.toLowerCase(),"-egg-rate");y.pathname!==n&&C(n,{replace:!0}),F.current=!1})))}),[C,y.pathname,n,a]),_=(0,t.useCallback)((()=>{x((e=>!e))}),[]),z=(0,t.useMemo)((()=>({control:(e,n)=>(0,r.A)((0,r.A)({},e),{},{backgroundColor:"white",borderColor:n.isFocused?"#2563EB":"#E5E7EB",boxShadow:n.isFocused?"0 0 0 2px rgba(37, 99, 235, 0.2)":"none","&:hover":{borderColor:"#2563EB"},padding:"0.5rem",borderRadius:"0.5rem",minHeight:"3rem",transition:"all 0.2s ease"}),menu:e=>(0,r.A)((0,r.A)({},e),{},{zIndex:9999,boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",borderRadius:"0.5rem",overflow:"hidden"}),option:(e,n)=>(0,r.A)((0,r.A)({},e),{},{backgroundColor:n.isSelected?"#2563EB":n.isFocused?"#EFF6FF":"white",color:n.isSelected?"white":"#1F2937",padding:"0.75rem 1rem","&:active":{backgroundColor:"#1D4ED8"},cursor:"pointer"}),placeholder:e=>(0,r.A)((0,r.A)({},e),{},{color:"#6B7280"}),loadingMessage:e=>(0,r.A)((0,r.A)({},e),{},{color:"#6B7280"}),noOptionsMessage:e=>(0,r.A)((0,r.A)({},e),{},{color:"#6B7280"})})),[]);return(0,m.jsxs)("nav",{ref:k,className:"\n        sticky top-0 z-50 \n        ".concat(g?"bg-white/95 dark:bg-gray-900/95":"bg-white dark:bg-gray-900","\n        shadow-lg backdrop-blur-lg\n        transition-all duration-200\n      "),role:"navigation","aria-label":"Main navigation",children:[(0,m.jsxs)("div",{className:"container mx-auto px-4 w-full max-w-7xl",children:[(0,m.jsxs)("div",{className:"flex flex-wrap justify-between items-center py-3 md:py-4",children:[(0,m.jsxs)("div",{className:"flex justify-between items-center flex-1 md:flex-none",children:[(0,m.jsx)(s.N_,{to:"/",onClick:L,className:"flex-shrink-0 focus:outline-none focus:ring-2 focus:ring-blue-500 rounded-lg","aria-label":"Go to homepage",children:(0,m.jsx)(c.A,{})}),(0,m.jsx)("button",{className:"md:hidden inline-flex items-center justify-center p-2 rounded-lg text-gray-700 hover:text-blue-600  hover:bg-gray-100 dark:text-gray-300 dark:hover:text-blue-400 dark:hover:bg-gray-800 focus:outline-none focus:ring-2  focus:ring-blue-500 transition-colors duration-200",onClick:_,"aria-controls":"mobile-menu","aria-expanded":b,"aria-label":b?"Close menu":"Open menu",children:(0,m.jsx)(b?l.QCr:l.OXb,{size:24})})]}),(0,m.jsx)("div",{className:"hidden md:flex items-center space-x-1",children:(0,m.jsx)(i.A,{handleHomeClick:L,handleCityClick:B})}),(0,m.jsx)("div",{className:"\n            md:w-64 w-full order-last md:order-none mt-4 md:mt-0\n            ".concat(b?"block":"hidden md:block","\n          "),children:(0,m.jsx)(d.A,{options:A,selectedCity:p,selectedState:h,handleChange:S,isLoading:E,error:j,selectStyles:z,onFocus:()=>w(!0),onBlur:()=>w(!1),isSearchFocused:v})})]}),(0,m.jsx)("div",{id:"mobile-menu",className:"\n            ".concat(b?"max-h-96 opacity-100":"max-h-0 opacity-0","\n            md:hidden overflow-hidden transition-all duration-300 ease-in-out\n          "),children:(0,m.jsx)("div",{className:"flex flex-col space-y-2 pb-4",children:(0,m.jsx)(i.A,{handleHomeClick:L,handleCityClick:B})})})]}),b&&(0,m.jsx)("div",{tabIndex:0,onFocus:()=>x(!1),className:"sr-only",children:"End of menu"})]})}));p.displayName="Navbar";const h=p}}]);