"use strict";(self.webpackChunkfood_price_app=self.webpackChunkfood_price_app||[]).push([[5467],{5467:(e,t,a)=>{a.d(t,{A:()=>x});var o=a(9379),n=a(9950),r=a(2074),i=a(8429),s=a(9430),l=a(2875),c=a(9330),u=a(4414);const d=(0,n.memo)((e=>{let{handleHomeClick:t,handleCityClick:a}=e;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(r.N_,{to:"/",className:"text-gray-800 hover:text-blue-600 font-medium transition duration-300 py-2 px-3 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",onClick:t,children:"Home"}),(0,u.jsx)(r.N_,{to:"/mumbai-egg-rate",className:"text-gray-800 hover:text-blue-600 font-medium transition duration-300 py-2 px-3 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",onClick:e=>a("Mumbai",e),children:"Mumbai"}),(0,u.jsx)(r.N_,{to:"/kolkata-egg-rate",className:"text-gray-800 hover:text-blue-600 font-medium transition duration-300 py-2 px-3 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",onClick:e=>a("Kolkata",e),children:"Kolkata"}),(0,u.jsx)(r.N_,{to:"/lucknow-egg-rate",className:"text-gray-800 hover:text-blue-600 font-medium transition duration-300 py-2 px-3 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",onClick:e=>a("Lucknow",e),children:"Lucknow"}),(0,u.jsx)(r.N_,{to:"/barwala-egg-rate",className:"text-gray-800 hover:text-blue-600 font-medium transition duration-300 py-2 px-3 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",onClick:e=>a("Barwala",e),children:"Barwala"}),(0,u.jsx)(r.N_,{to:"/hyderabad-egg-rate",className:"text-gray-800 hover:text-blue-600 font-medium transition duration-300 py-2 px-3 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",onClick:e=>a("Hyderabad",e),children:"Hyderabad"}),(0,u.jsx)(r.N_,{to:"/chennai-egg-rate",className:"text-gray-800 hover:text-blue-600 font-medium transition duration-300 py-2 px-3 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",onClick:e=>a("Chennai",e),children:"Chennai"}),(0,u.jsx)(r.N_,{to:"/webstories",className:"text-gray-800 hover:text-blue-600 font-medium transition duration-300 py-2 px-3 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Web Stories"})]})}));d.displayName="NavigationLinks";const m=(0,n.memo)((()=>(0,u.jsx)("div",{className:"logo-container relative w-48 h-16",style:{maxWidth:"192px"},children:(0,u.jsx)(c.A,{src:"/logo.webp",alt:"Food Price App Logo",className:"w-full h-full object-contain",width:192,height:64,loading:"eager",priority:!0,sizes:"(max-width: 768px) 150px, 192px"})})));m.displayName="Logo";const p=e=>{let{setSelectedCity:t,setSelectedState:a,selectedCity:c,selectedState:p}=e;const[x,h]=(0,n.useState)([]),[g,b]=(0,n.useState)(!1),[f,y]=(0,n.useState)(!0),[C,w]=(0,n.useState)(null),N=(0,i.Zp)(),k=(0,i.zy)(),j=n.useRef(!1),v=(0,n.useMemo)((()=>e=>{const t=e.toLowerCase();return"bangalore"===t||"bangalore (cc)"===t||"bengaluru (cc)"===t||"bengaluru"===t?"Bengaluru":e}),[]),A=(0,n.useCallback)((e=>Array.isArray(e)?{combinedOptions:e.map((e=>({value:e.name,label:e.name,type:"city"})))}:{combinedOptions:[]}),[]);(0,n.useEffect)((()=>{const e=new AbortController;return(async()=>{try{y(!0);const t=await fetch("/php/api/location/get_states_and_cities.php",{signal:e.signal});if(!t.ok)throw new Error("Failed to fetch locations");const a=await t.json(),{combinedOptions:o}=A(a);h(o)}catch(t){"AbortError"!==t.name&&w(t.message)}finally{y(!1)}})(),()=>e.abort()}),[A]);const S=(0,n.useMemo)((()=>e=>{if(!e||j.current)return;j.current=!0;const{type:o,label:n}=e;if("city"===o){const[e,o]=n.split(", ");let r=v(e);t(r),a(o),requestAnimationFrame((()=>{const e="/".concat(r.toLowerCase(),"-egg-rate");k.pathname!==e&&N(e,{replace:!0}),j.current=!1}))}else"state"===o&&(t(""),a(n),requestAnimationFrame((()=>{const e="/state/".concat(n.toLowerCase(),"-egg-rate");k.pathname!==e&&N(e,{replace:!0}),j.current=!1})))}),[N,k.pathname,t,a,v]),F=(0,n.useMemo)((()=>e=>{j.current?e.preventDefault():(j.current=!0,t(""),a(""),"/"!==k.pathname&&N("/"),requestAnimationFrame((()=>{j.current=!1})))}),[N,k.pathname,t,a]),_=(0,n.useMemo)((()=>(e,o)=>{j.current?null===o||void 0===o||o.preventDefault():(j.current=!0,t(e),a(""),requestAnimationFrame((()=>{const t="/".concat(e.toLowerCase(),"-egg-rate");k.pathname!==t&&N(t,{replace:!0}),j.current=!1})))}),[N,k.pathname,t,a]),L=(0,n.useMemo)((()=>({control:e=>(0,o.A)((0,o.A)({},e),{},{backgroundColor:"white",borderColor:"#E5E7EB",boxShadow:"none","&:hover":{borderColor:"#3B82F6"},padding:"0.5rem",borderRadius:"0.5rem",minHeight:"3rem"}),menu:e=>(0,o.A)((0,o.A)({},e),{},{zIndex:9999,boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(e,t)=>(0,o.A)((0,o.A)({},e),{},{backgroundColor:t.isSelected?"#3B82F6":t.isFocused?"#EFF6FF":"white",color:t.isSelected?"white":"#1F2937","&:active":{backgroundColor:"#2563EB"}}),placeholder:e=>(0,o.A)((0,o.A)({},e),{},{color:"#6B7280"})})),[]);return(0,u.jsx)("nav",{className:"sticky top-0 z-50 bg-white shadow-lg",style:{backdropFilter:"blur(8px)"},role:"navigation","aria-label":"Main navigation",children:(0,u.jsxs)("div",{className:"container mx-auto px-4 w-full max-w-7xl",children:[(0,u.jsxs)("div",{className:"flex flex-wrap justify-between items-center py-4",children:[(0,u.jsxs)("div",{className:"flex justify-between items-center flex-1 md:flex-none",children:[(0,u.jsx)(r.N_,{to:"/",onClick:F,className:"flex-shrink-0","aria-label":"Go to homepage",children:(0,u.jsx)(m,{})}),(0,u.jsx)("button",{className:"md:hidden inline-flex items-center justify-center p-2 rounded-md text-gray-800 hover:text-blue-600 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500",onClick:()=>b(!g),"aria-controls":"mobile-menu","aria-expanded":g,"aria-label":g?"Close menu":"Open menu",children:(0,u.jsx)(g?l.QCr:l.OXb,{size:24})})]}),(0,u.jsx)("div",{className:"hidden md:flex items-center space-x-1",children:(0,u.jsx)(d,{handleHomeClick:F,handleCityClick:_})}),(0,u.jsxs)("div",{className:"w-full md:w-64 mt-4 md:mt-0",children:[(0,u.jsx)(s.Ay,{value:x.find((e=>e.value===(c||p))),onChange:S,options:x,isLoading:f,isDisabled:f||C,className:"react-select-container",classNamePrefix:"react-select",styles:L,"aria-label":"Search for city or state",inputId:"location-select","aria-describedby":"location-select-help",placeholder:f?"Loading locations...":"Select City, State",noOptionsMessage:()=>C?"Error loading locations":"No locations found",isClearable:!0,components:{IndicatorSeparator:()=>null}}),C&&(0,u.jsx)("p",{className:"mt-1 text-sm text-red-600",role:"alert",children:C}),(0,u.jsx)("span",{id:"location-select-help",className:"sr-only",children:"Select a city or state to view egg rates for that location"})]})]}),(0,u.jsx)("div",{id:"mobile-menu",className:"".concat(g?"block":"hidden"," md:hidden pb-4"),children:(0,u.jsx)("div",{className:"flex flex-col space-y-2",children:(0,u.jsx)(d,{handleHomeClick:F,handleCityClick:_})})})]})})},x=(0,n.memo)(p)}}]);