"use strict";(self.webpackChunkfood_price_app=self.webpackChunkfood_price_app||[]).push([[5530],{5530:(t,a,e)=>{e.d(a,{Gd:()=>y,Nz:()=>u,Si:()=>s,VW:()=>l,Y8:()=>i,_D:()=>d,_e:()=>o,a8:()=>p,bb:()=>h,h6:()=>r,iO:()=>f,sl:()=>j,xx:()=>w,zb:()=>c});var n=e(9379);const o=async()=>{const t=await fetch("/php/api/webstories/index.php?action=list");if(!t.ok)throw new Error("Failed to fetch web stories");const a=await t.json();return Array.isArray(a)?a:[]},i=async(t,a)=>{const e=t&&a?"cityState":"latest",o=t&&a?"&city=".concat(t,"&state=").concat(a):"",i="/php/api/rates/index.php?action=".concat(e).concat(o),r=await fetch(i);return(await r.json()).map((t=>(0,n.A)((0,n.A)({},t),{},{rate:parseFloat(t.rate)})))},r=async()=>{const t=await fetch("/php/api/rates/index.php?action=special");return(await t.json()).map((t=>(0,n.A)((0,n.A)({},t),{},{rate:parseFloat(t.rate)})))},c=async()=>(await fetch("/php/api/location/index.php?action=states")).json(),p=async t=>(await fetch("/php/api/location/index.php?action=cities&state=".concat(t))).json(),s=async t=>(await fetch("/php/api/location/index.php?action=stateForCity&city=".concat(t))).json(),h=async()=>{const t=await fetch("/php/api/location/index.php?action=all");if(!t.ok)throw new Error("Failed to fetch states and cities");return t.json()},d=async t=>{const a=(await o()).find((a=>a.slug===t));if(!a)throw new Error("Story not found");return await(async t=>{if(!(await fetch("/webstories/".concat(t,".html"),{method:"HEAD"})).ok)throw new Error("Web story content not found");return!0})(t),a},l=async t=>{const a=await fetch("/php/api/rates/index.php?action=all&date=".concat(t));if(!a.ok)throw new Error("Failed to fetch all rates");return(await a.json()).map((t=>(0,n.A)((0,n.A)({},t),{},{rate:parseFloat(t.rate)})))},w=async t=>{const a=await fetch("/php/api/rates/index.php?action=updateMultiple",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok)throw new Error("Failed to update rates");return a.json()},f=async t=>{const a=await fetch("/php/api/rates/index.php?action=delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t})});if(!a.ok)throw new Error("Failed to delete rate");return a.json()},y=async t=>{const a=await fetch("/php/api/rates/index.php?action=update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok)throw new Error("Failed to update rate");return a.json()},u=async function(t,a){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const o=await fetch("/php/api/location/index.php?action=add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify((0,n.A)({type:t,name:a},e&&{state:e}))});if(!o.ok)throw new Error("Failed to add ".concat(t));return o.json()},j=async function(t,a){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const o=await fetch("/php/api/location/index.php?action=remove",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify((0,n.A)({type:t,name:a},e&&{state:e}))});if(!o.ok)throw new Error("Failed to remove ".concat(t));return o.json()}}}]);