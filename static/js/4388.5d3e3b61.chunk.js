"use strict";(self.webpackChunkfood_price_app=self.webpackChunkfood_price_app||[]).push([[4388],{4388:(e,s,a)=>{a.r(s),a.d(s,{default:()=>d});var t=a(9950),l=a(5371),o=a(688),r=a(4414);const d=()=>{const[e]=(0,t.useState)((()=>new o.A)),[s,a]=(0,t.useState)(null),[d,i]=(0,t.useState)(null),[c,n]=(0,t.useState)(!1),[u,g]=(0,t.useState)(null),[x,m]=(0,t.useState)([]),[p,h]=(0,t.useState)(!1),[b,v]=(0,t.useState)(null),[y,f]=(0,t.useState)("queries"),j=(0,t.useCallback)((function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";const a=(new Date).toLocaleTimeString();m((t=>[{timestamp:a,message:e,type:s},...t.slice(0,49)]))}),[]),N=(0,t.useCallback)((async()=>{try{const s=await e.getStatus();a(s.data),g(s.data.lastProcessed)}catch(s){j("\u274c Failed to update status: ".concat(s.message),"error")}}),[e,j]),w=(0,t.useCallback)((async()=>{try{const s=await e.getDashboardData();i(s.data)}catch(s){j("\u274c Failed to load dashboard data: ".concat(s.message),"error")}}),[e,j]),S=(0,t.useCallback)((async()=>{try{const s=await e.getProcessingLogs(50);m(s.data.map((e=>({timestamp:new Date(e.created_at).toLocaleTimeString(),message:"".concat(e.filename,": ").concat(e.status," (").concat(e.records_processed," records)"),type:"completed"===e.status?"success":"failed"===e.status?"error":"info"}))))}catch(s){j("\u274c Failed to load processing logs: ".concat(s.message),"error")}}),[e,j]);(0,t.useEffect)((()=>{N(),w(),S();const e=setInterval(N,3e4),s=setInterval(w,6e4);return()=>{clearInterval(e),clearInterval(s)}}),[N,w,S]);const C=async function(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"json";try{j("\ud83d\udcca Exporting data as ".concat(s.toUpperCase(),"..."),"info"),await e.exportData(s),j("\u2705 Data exported successfully as ".concat(s.toUpperCase()),"success")}catch(a){j("\u274c Failed to export data: ".concat(a.message),"error")}};return(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"\ud83e\udd16 SEO Automation Dashboard"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Automated SEO optimization for Food Price App using Google Search Console data"})]}),(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"\ud83c\udf9b\ufe0f Control Panel"}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("div",{className:"px-3 py-1 rounded-full text-sm ".concat(c?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"),children:c?"\ud83d\udfe2 Auto Mode ON":"\u26aa Auto Mode OFF"}),s&&(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:["Last processed: ",(k=u,k?new Date(k).toLocaleString():"Never")]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)("h3",{className:"font-medium text-gray-700",children:"Automation"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("button",{onClick:async()=>{try{h(!0),j("\ud83d\ude80 Starting automated SEO monitoring...","info"),await e.startMonitoring(30),n(!0),j("\u2705 Automated SEO monitoring started successfully","success"),await N()}catch(s){j("\u274c Failed to start automation: ".concat(s.message),"error")}finally{h(!1)}},disabled:c||p,className:"w-full px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:p?"\u23f3 Starting...":"\u25b6\ufe0f Start Auto SEO"}),(0,r.jsx)("button",{onClick:async()=>{try{h(!0),await e.stopMonitoring(),n(!1),j("\ud83d\uded1 Automated SEO monitoring stopped","info"),await N()}catch(s){j("\u274c Failed to stop automation: ".concat(s.message),"error")}finally{h(!1)}},disabled:!c||p,className:"w-full px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:p?"\u23f3 Stopping...":"\u23f9\ufe0f Stop Auto SEO"}),(0,r.jsx)("button",{onClick:async()=>{try{h(!0),j("\ud83d\udd04 Force processing CSV reports...","info"),await e.processReports(),j("\u2705 Reports processed successfully","success"),await w(),await N()}catch(s){j("\u274c Failed to process reports: ".concat(s.message),"error")}finally{h(!1)}},disabled:p,className:"w-full px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:p?"\u23f3 Processing...":"\ud83d\udd04 Force Process"})]})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)("h3",{className:"font-medium text-gray-700",children:"Manual Upload"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("select",{value:y,onChange:e=>f(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,r.jsx)("option",{value:"queries",children:"Queries Report"}),(0,r.jsx)("option",{value:"pages",children:"Pages Report"}),(0,r.jsx)("option",{value:"countries",children:"Countries Report"}),(0,r.jsx)("option",{value:"devices",children:"Devices Report"})]}),(0,r.jsx)("input",{type:"file",accept:".csv",onChange:e=>v(e.target.files[0]),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,r.jsx)("button",{onClick:async()=>{if(b)try{h(!0),j("\ud83d\udcc1 Uploading ".concat(b.name,"..."),"info"),await e.uploadFile(b,y),j("\u2705 File uploaded and processed successfully","success"),v(null),await w(),await N()}catch(s){j("\u274c Failed to upload file: ".concat(s.message),"error")}finally{h(!1)}else j("\u274c Please select a file first","error")},disabled:!b||p,className:"w-full px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed",children:p?"\u23f3 Uploading...":"\ud83d\udcc1 Upload & Process"})]})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)("h3",{className:"font-medium text-gray-700",children:"Export Data"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("button",{onClick:()=>C("json"),disabled:p,className:"w-full px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"\ud83d\udcca Export JSON"}),(0,r.jsx)("button",{onClick:()=>C("csv"),disabled:p,className:"w-full px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"\ud83d\udccb Export CSV"})]})]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,r.jsx)("div",{className:"lg:col-span-2",children:(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"\ud83d\udcca SEO Analytics Dashboard"}),(0,r.jsx)(l.Wx,{})]})}),(0,r.jsx)("div",{className:"lg:col-span-1",children:(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"\ud83d\udcdd Processing Logs"}),(0,r.jsx)("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:0===x.length?(0,r.jsxs)("div",{className:"text-gray-500 text-center py-8",children:["No processing logs yet.",(0,r.jsx)("br",{}),"Start automation or upload files to see activity."]}):x.map(((e,s)=>(0,r.jsxs)("div",{className:"p-3 rounded text-sm ".concat("success"===e.type?"bg-green-50 text-green-800 border border-green-200":"error"===e.type?"bg-red-50 text-red-800 border border-red-200":"bg-blue-50 text-blue-800 border border-blue-200"),children:[(0,r.jsx)("div",{className:"font-medium",children:e.timestamp}),(0,r.jsx)("div",{children:e.message})]},s)))})]})})]}),(0,r.jsxs)("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,r.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:(0,r.jsxs)("div",{className:"bg-blue-50 p-6 rounded-lg",children:[(0,r.jsx)("h4",{className:"font-semibold text-blue-800 mb-2",children:"\ud83d\udcc8 Performance Boost"}),(0,r.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:(null===d||void 0===d?void 0:d.performance_boost)||"+23.5%"}),(0,r.jsx)("div",{className:"text-sm text-blue-600",children:"Average CTR improvement"})]})}),(0,r.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:(0,r.jsxs)("div",{className:"bg-green-50 p-6 rounded-lg",children:[(0,r.jsx)("h4",{className:"font-semibold text-green-800 mb-2",children:"\ud83c\udfaf Optimizations Applied"}),(0,r.jsx)("div",{className:"text-2xl font-bold text-green-600",children:(null===d||void 0===d?void 0:d.optimizations_count)||"147"}),(0,r.jsx)("div",{className:"text-sm text-green-600",children:"This month"})]})}),(0,r.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:(0,r.jsxs)("div",{className:"bg-purple-50 p-6 rounded-lg",children:[(0,r.jsx)("h4",{className:"font-semibold text-purple-800 mb-2",children:"\ud83d\udd0d Keywords Tracked"}),(0,r.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:(null===d||void 0===d?void 0:d.keywords_count)||"1,234"}),(0,r.jsx)("div",{className:"text-sm text-purple-600",children:"Active monitoring"})]})}),(0,r.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:(0,r.jsxs)("div",{className:"bg-orange-50 p-6 rounded-lg",children:[(0,r.jsx)("h4",{className:"font-semibold text-orange-800 mb-2",children:"\ud83c\udf0d Markets Analyzed"}),(0,r.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:(null===d||void 0===d?void 0:d.markets_count)||"15"}),(0,r.jsx)("div",{className:"text-sm text-orange-600",children:"International opportunities"})]})})]})]})});var k}}}]);