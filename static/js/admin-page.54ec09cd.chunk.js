"use strict";(self.webpackChunkfood_price_app=self.webpackChunkfood_price_app||[]).push([[832],{6853:(e,t,a)=>{a.r(t),a.d(t,{default:()=>n});var s=a(9379),r=(a(5043),a(579));const n=e=>{let{eggRate:t,setEggRate:a,handleSubmit:n,handleSelectAll:o,handleCopyPreviousRates:l}=e;return(0,r.jsxs)("form",{onSubmit:n,className:"mb-6 grid grid-cols-1 gap-4",children:[(0,r.jsx)("button",{type:"button",onClick:o,className:"bg-green-600 text-white p-3 rounded w-full hover:bg-green-700 transition",children:"Select All Cities"}),(0,r.jsx)("input",{type:"date",value:t.date,onChange:e=>a((0,s.A)((0,s.A)({},t),{},{date:e.target.value})),className:"border border-gray-300 p-3 rounded w-full focus:outline-none focus:ring-2 focus:ring-blue-500 transition",required:!0}),(0,r.jsx)("input",{type:"number",placeholder:"Rate",value:t.rate,onChange:e=>a((0,s.A)((0,s.A)({},t),{},{rate:e.target.value})),className:"border border-gray-300 p-3 rounded w-full focus:outline-none focus:ring-2 focus:ring-blue-500 transition",required:!0}),(0,r.jsx)("button",{type:"submit",className:"bg-blue-600 text-white p-3 rounded w-full hover:bg-blue-700 transition",children:"Update Rates"}),(0,r.jsx)("button",{type:"button",onClick:l,className:"bg-yellow-600 text-white p-3 rounded w-full hover:bg-yellow-700 transition",children:"Copy Previous Rates"})]})}},7203:(e,t,a)=>{a.r(t),a.d(t,{default:()=>d});var s=a(9379),r=a(5043),n=a(461),o=a(6058),l=a(579);n.t1.register(n.PP,n.kc,n.E8,n.hE,n.m_,n.s$,n.No,n.FN);const i=e=>{let{data:t=[],title:a="Egg Rates",chartType:s="bar",xAxisKey:r="city",yAxisKey:n="rate",showLine:i=!1}=e;if(!t||0===t.length)return null;const c={labels:t.map((e=>e[r])),datasets:[{label:a,data:t.map((e=>e[n])),backgroundColor:"rgba(75, 192, 192, 0.6)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1,fill:!i&&void 0,tension:i?.3:void 0,pointRadius:i?4:void 0,pointHoverRadius:i?6:void 0}]},d={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:a},tooltip:{callbacks:{label:function(e){return"\u20b9".concat(e.raw.toFixed(2))}}}},scales:{y:{beginAtZero:!1,ticks:{callback:function(e){return"\u20b9"+e.toFixed(2)}}}}},h="line"===s?o.N1:o.yP;return(0,l.jsx)("div",{className:"mt-8",style:{position:"relative",height:"400px",width:"100%"},children:(0,l.jsx)(h,{data:c,options:d})})};var c=a(1591);const d=e=>{var t,a,n;let{rates:o=[],showChart:d=!0,itemsPerPage:h=10,showAdmin:p=!1,showSpecialRates:u=!1,chartType:g="bar",onDelete:m,onEdit:y,handleSort:b,showState:x=!1,showDate:f=!1,showPriceColumns:j=!0,selectedCity:N="",selectedState:v=""}=e;const[w,S]=(0,r.useState)(1),[C,k]=(0,r.useState)({key:"city",direction:"ascending"}),[A,R]=(0,r.useState)(null),[E,O]=(0,r.useState)({});if(!o||0===o.length)return(0,l.jsx)("div",{className:"p-6 mt-6 bg-gray-100 rounded-lg shadow-lg text-center",children:u?"No special rates available":"No rates available at the moment."});const P=b?o:[...o].sort(((e,t)=>e[C.key]<t[C.key]?"ascending"===C.direction?-1:1:e[C.key]>t[C.key]?"ascending"===C.direction?1:-1:0)),T=w*h,D=T-h,_=P.slice(D,T),F=e=>{S(Number(e.target.id))},I=[];for(let s=1;s<=Math.ceil(o.length/h);s++)I.push(s);const J=e=>{b?b(e):(e=>{let t="ascending";C.key===e&&"ascending"===C.direction&&(t="descending"),k({key:e,direction:t})})(e)},L=()=>{y&&y(E),R(null)},X=()=>{R(null),O({})},M=e=>{const{name:t,value:a}=e.target;O((e=>(0,s.A)((0,s.A)({},e),{},{[t]:a})))},U=(null===(t=P[0])||void 0===t?void 0:t.rate)||0,q=(null===(a=P[1])||void 0===a?void 0:a.rate)||U,V=U-q,H=q?V/q*100:0,W=30*U,B=null!==(n=P[0])&&void 0!==n&&n.date?new Date(P[0].date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):(new Date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),K=N?{"@context":"https://schema.org","@type":"LocalBusiness",name:"Egg Market ".concat(N),description:"Find today's egg rates in ".concat(N,", ").concat(v,". Updated daily NECC egg prices and wholesale egg rates."),address:{"@type":"PostalAddress",addressLocality:N,addressRegion:v,addressCountry:"IN"},image:"https://todayeggrates.com/eggpic.webp",priceRange:"\u20b9\u20b9",telephone:"+91-XXXXXXXXXX",url:"https://todayeggrates.com/".concat(N.toLowerCase(),"-egg-rate"),aggregateRating:{"@type":"AggregateRating",ratingValue:"4.8",ratingCount:"254"},openingHoursSpecification:[{"@type":"OpeningHoursSpecification",dayOfWeek:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],opens:"06:00",closes:"21:00"}],offers:{"@type":"Offer",itemOffered:{"@type":"Product",name:"Eggs",description:"Fresh eggs in ".concat(N,", ").concat(v),offers:{"@type":"Offer",price:U,priceCurrency:"INR",availability:"https://schema.org/InStock",priceValidUntil:new Date((new Date).setDate((new Date).getDate()+1)).toISOString().split("T")[0]}}}}:null,Z=N?{"@context":"https://schema.org","@type":"Product",name:"Eggs in ".concat(N,", ").concat(v),description:"Fresh eggs available in ".concat(N,", ").concat(v,". Check today's egg price."),image:"https://todayeggrates.com/eggpic.webp",offers:{"@type":"Offer",url:"https://todayeggrates.com/".concat(N.toLowerCase(),"-egg-rate"),priceCurrency:"INR",price:U,priceValidUntil:new Date((new Date).setDate((new Date).getDate()+1)).toISOString().split("T")[0],availability:"https://schema.org/InStock",itemCondition:"https://schema.org/NewCondition"},aggregateRating:{"@type":"AggregateRating",ratingValue:"4.8",reviewCount:"254"}}:null;return(0,l.jsxs)(l.Fragment,{children:[N&&(0,l.jsxs)(c.m,{children:[K&&(0,l.jsx)("script",{type:"application/ld+json",children:JSON.stringify(K)}),Z&&(0,l.jsx)("script",{type:"application/ld+json",children:JSON.stringify(Z)})]}),(0,l.jsxs)("div",{className:u?"p-6 mt-6 bg-white rounded-lg shadow-lg":"dynamic-body p-4",children:[u&&(0,l.jsx)("h2",{className:"text-3xl font-bold mb-6 text-center text-gray-800",children:"Special Rates"}),N&&(0,l.jsxs)("div",{className:"p-6 bg-gray-50 rounded-lg shadow-md mb-6",children:[(0,l.jsxs)("h2",{className:"text-2xl font-semibold text-center text-gray-800 mb-6",children:["Today's Egg Rate in ",N,", ",v]}),(0,l.jsx)("div",{className:"flex flex-wrap justify-between mb-8",children:(0,l.jsx)("div",{className:"w-full md:w-1/2 p-4",children:(0,l.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[(0,l.jsx)("h3",{className:"text-xl font-medium text-gray-700",children:"Latest Price Details"}),(0,l.jsxs)("div",{className:"mt-4 space-y-3",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"Current Rate:"}),(0,l.jsxs)("span",{className:"font-bold text-2xl text-red-600",children:["\u20b9",U," per egg"]})]}),(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"Tray Price (30 eggs):"}),(0,l.jsxs)("span",{className:"font-semibold text-xl text-blue-600",children:["\u20b9",W.toFixed(2)]})]}),(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"Updated on:"}),(0,l.jsx)("span",{className:"text-gray-800",children:B})]}),0!==V&&(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsx)("span",{className:"text-gray-600",children:"Price Change:"}),(0,l.jsxs)("span",{className:V>0?"text-green-600":V<0?"text-red-600":"text-gray-600",children:[V>0?"+":"",V.toFixed(2)," (",H>0?"+":"",H.toFixed(2),"%)"]})]})]})]})})})]}),(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"min-w-full border border-gray-300 mt-4",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{style:{backgroundColor:"#F9BE0C"},children:[(0,l.jsx)("th",{className:"border border-gray-300 p-2 cursor-pointer",onClick:()=>J("city"),children:"Market"}),x&&(0,l.jsx)("th",{className:"border border-gray-300 p-2 cursor-pointer",onClick:()=>J("state"),children:"State"}),f&&(0,l.jsx)("th",{className:"border border-gray-300 p-2 cursor-pointer",onClick:()=>J("date"),children:"Date"}),(0,l.jsx)("th",{className:"border border-gray-300 p-2 cursor-pointer",onClick:()=>J("rate"),children:"Piece"}),j&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("th",{className:"border border-gray-300 p-2",children:"Tray"}),(0,l.jsx)("th",{className:"border border-gray-300 p-2",children:"100 Pcs"}),(0,l.jsx)("th",{className:"border border-gray-300 p-2",children:"Peti"})]}),p&&(0,l.jsx)("th",{className:"border border-gray-300 p-2",children:"Actions"})]})}),(0,l.jsx)("tbody",{children:_.map(((e,t)=>(0,l.jsxs)("tr",{className:"".concat(t%2===0?"bg-[#fffcdf]":"bg-[#fff1c8]"," hover:bg-[#ddfafe]"),children:[(0,l.jsx)("td",{className:"border border-gray-300 p-2",children:e.city?(0,l.jsx)("a",{href:"/".concat(e.city.toLowerCase(),"-egg-rate"),children:e.city}):"N/A"}),x&&(0,l.jsx)("td",{className:"border border-gray-300 p-2",children:e.state}),f&&(0,l.jsx)("td",{className:"border border-gray-300 p-2",children:A===e.id?(0,l.jsx)("input",{type:"date",name:"date",value:E.date,onChange:M,className:"border border-gray-300 p-2 rounded w-full"}):e.date}),(0,l.jsx)("td",{className:"border border-gray-300 p-2",children:A===e.id?(0,l.jsx)("input",{type:"number",name:"rate",value:E.rate,onChange:M,className:"border border-gray-300 p-2 rounded w-full"}):"\u20b9".concat(parseFloat(e.rate).toFixed(2))}),j&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("td",{className:"border border-gray-300 p-2",children:["\u20b9",(30*e.rate).toFixed(2)]}),(0,l.jsxs)("td",{className:"border border-gray-300 p-2",children:["\u20b9",(100*e.rate).toFixed(2)]}),(0,l.jsxs)("td",{className:"border border-gray-300 p-2",children:["\u20b9",(210*e.rate).toFixed(2)]})]}),p&&(0,l.jsx)("td",{className:"border border-gray-300 p-2 space-x-2",children:A===e.id?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("button",{onClick:L,className:"bg-green-500 text-white p-2 rounded hover:bg-green-600 transition",children:"Save"}),(0,l.jsx)("button",{onClick:X,className:"bg-gray-500 text-white p-2 rounded hover:bg-gray-600 transition",children:"Cancel"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("button",{onClick:()=>(e=>{R(e.id),O(e)})(e),className:"bg-yellow-500 text-white p-2 rounded hover:bg-yellow-600 transition",children:"Edit"}),(0,l.jsx)("button",{onClick:()=>m&&m(e),className:"bg-red-500 text-white p-2 rounded hover:bg-red-600 transition",children:"Delete"})]})})]},"".concat(e.city,"-").concat(e.date,"-").concat(t))))})]})}),(0,l.jsx)("div",{className:"pagination mt-4 flex flex-wrap justify-center",children:I.map((e=>(0,l.jsx)("button",{id:e,onClick:F,className:"px-4 py-2 mx-1 mb-2 border rounded ".concat(w===e?"bg-blue-500 text-white":"bg-white text-blue-500 hover:bg-blue-100"),children:e},e)))}),d&&(0,l.jsx)(i,{data:_,chartType:g}),N&&(0,l.jsxs)("div",{className:"mt-8 bg-blue-50 p-4 rounded-lg",children:[(0,l.jsxs)("h3",{className:"text-lg font-medium text-blue-800 mb-2",children:["About ",N," Egg Market"]}),(0,l.jsxs)("p",{className:"text-gray-700 mb-3",children:["The egg market in ",N,", ",v," follows the general poultry market trends in the region. Prices are influenced by factors such as feed costs, seasonal demand, transportation expenses, and overall market conditions."]}),(0,l.jsxs)("p",{className:"text-gray-700",children:[N,"'s egg rates are typically updated daily based on the National Egg Coordination Committee (NECC) publications and local market surveys. Our website provides the most current prices to help consumers and traders make informed decisions."]})]})]})]})}},3102:(e,t,a)=>{a.r(t),a.d(t,{default:()=>y});var s=a(5043),r=a(4672),n=a(3216),o=a(5475),l=a(579);const i=e=>{let{setIsAuthenticated:t}=e;const a=(0,n.Zp)();return(0,l.jsx)("nav",{className:"bg-gray-800 p-4 shadow-lg",children:(0,l.jsxs)("div",{className:"container mx-auto flex justify-between items-center",children:[(0,l.jsx)("div",{children:(0,l.jsx)(o.N_,{to:"/admin",className:"text-white text-2xl font-bold",children:"Admin Dashboard"})}),(0,l.jsx)("div",{className:"flex space-x-4",children:(0,l.jsx)("button",{onClick:()=>{t(!1),a("/login")},className:"text-white bg-red-600 hover:bg-red-700 px-4 py-2 rounded transition duration-150 ease-in-out",children:"Logout"})})]})})},c=e=>{let{states:t,selectedState:a,handleStateChange:s}=e;return(0,l.jsx)(r.Ay,{options:t,value:a,onChange:s,className:"w-full mb-4",placeholder:"Select State"})};var d=a(9379);const h=e=>{let{options:t,selectedOptions:a,setSelectedOptions:s}=e;const n=Array.from(new Set(t.map((e=>e.value)))).map((e=>t.find((t=>t.value===e))));return(0,l.jsx)(r.Ay,{isMulti:!0,options:n,value:a,onChange:s,className:"w-full",styles:{control:e=>(0,d.A)((0,d.A)({},e),{},{backgroundColor:"white",borderColor:"transparent",boxShadow:"none","&:hover":{borderColor:"transparent"},padding:"0.5rem",borderRadius:"0.375rem"}),menu:e=>(0,d.A)((0,d.A)({},e),{},{zIndex:9999}),placeholder:e=>(0,d.A)((0,d.A)({},e),{},{color:"#A0AEC0"})},placeholder:"Select Cities, States"})};var p=a(6853);const u=e=>{let{newState:t,setNewState:a,handleAddState:s}=e;return(0,l.jsxs)("form",{onSubmit:s,className:"mb-6 grid grid-cols-1 gap-4",children:[(0,l.jsx)("input",{type:"text",placeholder:"New State",value:t,onChange:e=>a(e.target.value),className:"border border-gray-300 p-3 rounded w-full focus:outline-none focus:ring-2 focus:ring-blue-500 transition",required:!0}),(0,l.jsx)("button",{type:"submit",className:"bg-blue-600 text-white p-3 rounded w-full hover:bg-blue-700 transition",children:"Add State"})]})},g=e=>{let{states:t,newCity:a,setNewCity:s,newCityState:n,setNewCityState:o,handleAddCity:i}=e;return(0,l.jsxs)("form",{onSubmit:i,className:"mb-6 grid grid-cols-1 gap-4",children:[(0,l.jsx)(r.Ay,{options:t,value:n,onChange:o,className:"w-full mb-4",placeholder:"Select State for New City"}),(0,l.jsx)("input",{type:"text",placeholder:"New City",value:a,onChange:e=>s(e.target.value),className:"border border-gray-300 p-3 rounded w-full focus:outline-none focus:ring-2 focus:ring-blue-500 transition",required:!0}),(0,l.jsx)("button",{type:"submit",className:"bg-blue-600 text-white p-3 rounded w-full hover:bg-blue-700 transition",children:"Add City"})]})};var m=a(7203);const y=e=>{let{setIsAuthenticated:t}=e;const a=(new Date).toISOString().split("T")[0],[n,o]=(0,s.useState)({date:a,rate:""}),[d,y]=(0,s.useState)([]),[b,x]=(0,s.useState)([]),[f,j]=(0,s.useState)([]),[N,v]=(0,s.useState)(!0),[w,S]=(0,s.useState)(null),[C,k]=(0,s.useState)({key:"city",direction:"ascending"}),[A,R]=(0,s.useState)([]),[E,O]=(0,s.useState)(null),[P,T]=(0,s.useState)(""),[D,_]=(0,s.useState)(""),[F,I]=(0,s.useState)(null),[J,L]=(0,s.useState)(""),[X,M]=(0,s.useState)(null),[U,q]=(0,s.useState)(null),[V,H]=(0,s.useState)(a),W=(0,s.useCallback)((()=>{v(!0),fetch("/php/api/rates/get_all_rates.php?date=".concat(V)).then((e=>e.json())).then((e=>{j(e),v(!1)})).catch((e=>{console.error("Error fetching rates:",e),S(e),v(!1)}))}),[V]),B=(0,s.useCallback)((()=>{fetch("/php/api/location/get_states_and_cities.php").then((e=>e.json())).then((e=>{const t=[],a=[];for(const s in e)a.push({value:s,label:s}),t.push({value:s,label:s,type:"state"}),e[s].forEach((e=>{t.push({value:"".concat(e,"-").concat(s),label:"".concat(e,", ").concat(s),type:"city"})}));x(t),R(a)})).catch((e=>console.error("Error fetching states and cities:",e)))}),[]);(0,s.useEffect)((()=>{W()}),[W]),(0,s.useEffect)((()=>{B()}),[B]);const K=s.useMemo((()=>{let e=[...f];return e.sort(((e,t)=>e[C.key]<t[C.key]?"ascending"===C.direction?-1:1:e[C.key]>t[C.key]?"ascending"===C.direction?1:-1:0)),e}),[f,C]),Z=()=>{o({date:a,rate:""}),y([]),O(null),L(""),M(null),q(null),T(""),_(""),I(null)};return N?(0,l.jsx)("div",{children:"Loading..."}):w?(0,l.jsxs)("div",{children:["Error loading data: ",w.message]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i,{setIsAuthenticated:t}),(0,l.jsx)("div",{className:"p-6 bg-gray-100 min-h-screen",children:(0,l.jsxs)("div",{className:"max-w-4xl mx-auto bg-white p-8 rounded-lg shadow-md",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold mb-6 text-center text-blue-600",children:"Admin Egg Rate Management"}),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)(c,{states:A,selectedState:E,handleStateChange:e=>{O(e),y([]);const t=b.filter((t=>"city"===t.type&&t.label.includes(e.value)));y(t)}}),(0,l.jsx)(h,{options:b,selectedOptions:d,setSelectedOptions:y}),(0,l.jsx)(p.default,{eggRate:n,setEggRate:o,handleSubmit:e=>{e.preventDefault();const t=d.map((e=>{const[t,a]="city"===e.type?e.label.split(", "):[null,e.value];return{city:t,state:a||"",date:n.date,rate:n.rate,type:e.type}}));fetch("/php/api/rates/update_multiple_rates.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>e.json())).then((e=>{W(),Z()})).catch((e=>console.error("Error submitting data:",e)))},handleSelectAll:()=>{const e=b.filter((e=>"city"===e.type));y(e)},handleCopyPreviousRates:()=>{if(0===d.length)return void alert("Please select at least one city.");(async()=>{const e=d.filter((e=>"city"===e.type)).map((e=>{const[t,a]=e.label.split(", ");return{city:t,state:a}}));console.log("Selected cities for updating rates:",e);const t=await(async e=>{console.log("Fetching latest rates for cities:",e);const t=await fetch("/php/api/rates/get_latest_rates.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),a=await t.json();return console.log("Fetched latest rates:",a),a})(e),a=t.map((e=>({city:e.city,state:e.state,date:n.date,rate:e.rate||n.rate,type:"city"})));console.log("Payload for updating rates:",a),fetch("/php/api/rates/update_multiple_rates.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((e=>e.json())).then((e=>{console.log("Response from updating rates:",e),W(),Z()})).catch((e=>console.error("Error submitting data:",e)))})()}}),(0,l.jsx)("h2",{className:"text-2xl font-semibold mb-4 text-blue-600",children:"Add New State"}),(0,l.jsx)(u,{newState:P,setNewState:T,handleAddState:e=>{e.preventDefault(),fetch("/php/api/location/add_state_city.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"state",name:P})}).then((e=>e.json())).then((e=>{e.success?(B(),T("")):alert(e.error)})).catch((e=>console.error("Error adding state:",e)))}}),(0,l.jsx)("h2",{className:"text-2xl font-semibold mb-4 text-blue-600",children:"Add New City"}),(0,l.jsx)(g,{states:A,newCity:D,setNewCity:_,newCityState:F,setNewCityState:I,handleAddCity:e=>{e.preventDefault(),fetch("/php/api/location/add_state_city.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"city",name:D,state:F.value})}).then((e=>e.json())).then((e=>{e.success?(B(),_(""),I(null)):alert(e.error)})).catch((e=>console.error("Error adding city:",e)))}}),(0,l.jsx)("h2",{className:"text-2xl font-semibold mb-4 text-blue-600",children:"Remove State"}),(0,l.jsxs)("form",{onSubmit:e=>{e.preventDefault(),fetch("/php/api/location/remove_state_city.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"state",name:J})}).then((e=>e.json())).then((e=>{e.success?(B(),L("")):alert(e.error)})).catch((e=>console.error("Error removing state:",e)))},className:"mb-6 grid grid-cols-1 gap-4",children:[(0,l.jsx)(r.Ay,{options:A,value:A.find((e=>e.value===J)),onChange:e=>L(e.value),className:"w-full mb-4",placeholder:"Select State to Remove"}),(0,l.jsx)("button",{type:"submit",className:"bg-red-600 text-white p-3 rounded w-full hover:bg-red-700 transition",children:"Remove State"})]}),(0,l.jsx)("h2",{className:"text-2xl font-semibold mb-4 text-blue-600",children:"Remove City"}),(0,l.jsxs)("form",{onSubmit:e=>{e.preventDefault(),fetch("/php/api/location/remove_state_city.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"city",name:X.label.split(", ")[0],state:U.value})}).then((e=>e.json())).then((e=>{e.success?(B(),M(null),q(null)):alert(e.error)})).catch((e=>console.error("Error removing city:",e)))},className:"mb-6 grid grid-cols-1 gap-4",children:[(0,l.jsx)(r.Ay,{options:A,value:A.find((e=>e.value===(null===U||void 0===U?void 0:U.value))),onChange:q,className:"w-full mb-4",placeholder:"Select State for City to Remove"}),(0,l.jsx)(r.Ay,{options:b.filter((e=>"city"===e.type&&e.label.includes(null===U||void 0===U?void 0:U.value))),value:X,onChange:M,className:"w-full mb-4",placeholder:"Select City to Remove"}),(0,l.jsx)("button",{type:"submit",className:"bg-red-600 text-white p-3 rounded w-full hover:bg-red-700 transition",children:"Remove City"})]}),(0,l.jsx)("h2",{className:"text-2xl font-semibold mb-4 text-blue-600",children:"Current Egg Rates"}),(0,l.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"date",children:"Select Date"}),(0,l.jsx)("input",{type:"date",id:"date",value:V,onChange:e=>H(e.target.value),className:"border border-gray-300 p-3 rounded w-full focus:outline-none focus:ring-2 focus:ring-blue-500 transition"})]}),"          ",(0,l.jsx)(m.default,{rates:K,showAdmin:!0,showState:!0,showDate:!0,showChart:!1,showPriceColumns:!1,handleSort:e=>{let t="ascending";C.key===e&&"ascending"===C.direction&&(t="descending"),k({key:e,direction:t})},onEdit:e=>{const t=f.map((t=>t.id===e.id?e:t));j(t),fetch("/php/api/rates/update_rate.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>e.json())).then((e=>{e.success?W():console.error("Error updating rate:",e.error)})).catch((e=>console.error("Error updating rate:",e)))},onDelete:e=>{fetch("/php/api/rates/delete_rate.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e.id})}).then((e=>e.json())).then((e=>{W()})).catch((e=>console.error("Error deleting item:",e)))}})]})})]})}}}]);
//# sourceMappingURL=admin-page.54ec09cd.chunk.js.map