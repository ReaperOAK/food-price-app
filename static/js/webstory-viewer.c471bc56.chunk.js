"use strict";(self.webpackChunkfood_price_app=self.webpackChunkfood_price_app||[]).push([[657],{8533:(e,t,a)=>{a.d(t,{A:()=>r});a(5043);var s=a(579);const r=()=>(0,s.jsxs)("footer",{className:"bg-[#422C18] text-white p-6 mt-8",children:[(0,s.jsxs)("div",{className:"container mx-auto px-4 w-full max-w-7xl flex flex-col md:flex-row justify-between items-center transition-none",children:[(0,s.jsx)("div",{className:"mb-4 md:mb-0",children:(0,s.jsxs)("p",{className:"text-center md:text-left",children:["\xa9 ",(new Date).getFullYear()," todayEggRates. All Rights Reserved."]})}),(0,s.jsxs)("div",{className:"flex flex-col md:flex-row md:space-x-6",children:[(0,s.jsx)("a",{href:"/disclaimer",className:"text-[#C4A484] hover:text-white transition duration-300",children:"Disclaimer"}),(0,s.jsx)("a",{href:"/privacy",className:"text-[#C4A484] hover:text-white transition duration-300 mb-2 md:mb-0",children:"Privacy Policy"}),(0,s.jsx)("a",{href:"/terms",className:"text-[#C4A484] hover:text-white transition duration-300",children:"Terms of Service"})]})]}),(0,s.jsxs)("div",{className:"mt-6 text-center",children:[(0,s.jsxs)("p",{className:"text-[#C4A484] text-sm",children:["Follow us on"," ",(0,s.jsx)("a",{href:"https://www.facebook.com",target:"_blank",rel:"noopener noreferrer",className:"text-[#C4A484] hover:text-white transition duration-300",children:"Facebook"}),","," ",(0,s.jsx)("a",{href:"https://www.twitter.com",target:"_blank",rel:"noopener noreferrer",className:"text-[#C4A484] hover:text-white transition duration-300",children:"Twitter"}),","," ",(0,s.jsx)("a",{href:"https://www.instagram.com",target:"_blank",rel:"noopener noreferrer",className:"text-[#C4A484] hover:text-white transition duration-300",children:"Instagram"}),"."]}),(0,s.jsx)("br",{}),(0,s.jsxs)("p",{children:["Made with \u2764 by ",(0,s.jsx)("a",{href:"https://www.instagram.com/being._owais/profilecard/?igsh=MWo5Nm45cjFuNzVobA==",target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:"Owais Khan"})]})]})]})},5840:(e,t,a)=>{a.d(t,{A:()=>d});var s=a(9379),r=a(5043),o=a(3216),n=a(5475),l=a(4672),c=a(3204),i=a(579);const d=e=>{let{setSelectedCity:t,setSelectedState:a,selectedCity:d,selectedState:h}=e;const[x,m]=(0,r.useState)([]),[u,g]=(0,r.useState)(!1),[p,w]=(0,r.useState)(!1),[b,f]=(0,r.useState)(!0),[y,j]=(0,r.useState)(0),N=(0,o.Zp)(),v=(0,o.zy)(),C=["/logo.webp"],k=r.useRef(!1);(0,r.useEffect)((()=>{fetch("/php/api/location/get_states_and_cities.php").then((e=>e.json())).then((e=>{const t=[],a=new Set,s=new Set;for(const r in e)a.has(r)||(t.push({value:r,label:r,type:"state"}),a.add(r)),e[r].forEach((e=>{let a=e;"bangalore"!==a.toLowerCase()&&"bangalore (cc)"!==a.toLowerCase()&&"bengaluru (cc)"!==a.toLowerCase()&&"bengaluru"!==a.toLowerCase()||(a="Bengaluru");const o="".concat(a,", ").concat(r);s.has(o)||(t.push({value:a,label:o,type:"city"}),s.add(o))}));m(t)})).catch((e=>console.error("Error fetching states and cities:",e)))}),[]);const S=e=>{k.current?e.preventDefault():(k.current=!0,t(""),a(""),"/"!==v.pathname&&N("/"),setTimeout((()=>{k.current=!1}),5))},A=(e,s)=>{k.current?null===s||void 0===s||s.preventDefault():(k.current=!0,t(e),a(""),setTimeout((()=>{const t="/".concat(e.toLowerCase(),"-egg-rate");v.pathname!==t&&N(t,{replace:!0}),k.current=!1}),5))},_=()=>(0,i.jsxs)("div",{className:"logo-container",style:{width:"40px",height:"40px",position:"relative"},children:[b&&(0,i.jsx)("div",{className:"logo-loading-skeleton",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"#e0e0e0",borderRadius:"4px",animation:"pulse 1.5s infinite"}}),(0,i.jsx)("img",{src:C[y],alt:"Food Price App Logo",style:{width:"100%",height:"100%",objectFit:"contain",opacity:b?0:1,transition:"opacity 0.3s ease"},onError:()=>{f(!1),w(!0),y<C.length-1&&j((e=>e+1))},onLoad:()=>{f(!1),w(!1)}}),p&&y===C.length-1&&(0,i.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f5f5f5",borderRadius:"4px",fontSize:"20px"},children:"\ud83e\udd5a"})]}),E=(0,r.useMemo)((()=>{const e=document.createElement("style");return e.textContent="\n      @keyframes pulse {\n        0% { opacity: 1; }\n        50% { opacity: 0.5; }\n        100% { opacity: 1; }\n      }\n    ",e}),[]);return(0,r.useEffect)((()=>(document.head.appendChild(E),()=>{document.head.contains(E)&&document.head.removeChild(E)})),[E]),(0,i.jsx)("nav",{className:"bg-white p-4 shadow-lg",style:{position:"sticky",top:0,zIndex:1e3,backgroundColor:"white",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:(0,i.jsxs)("div",{className:"container mx-auto px-4 w-full max-w-7xl flex flex-col md:flex-row justify-between items-center transition-none",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center w-full md:w-auto",children:["          ",(0,i.jsx)(n.N_,{to:"/",onClick:S,className:"mb-4 md:mb-0",children:(0,i.jsx)(_,{})}),(0,i.jsx)("button",{className:"md:hidden text-gray-800 focus:outline-none",onClick:()=>{g(!u)},children:u?(0,i.jsx)(c.QCr,{size:24}):(0,i.jsx)(c.OXb,{size:24})})]}),(0,i.jsx)("div",{className:"".concat(u?"block":"hidden"," md:flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-4 mb-4 md:mb-0 w-full md:w-auto"),children:(0,i.jsxs)("div",{className:"flex flex-col space-y-2 md:space-y-0 md:flex-row md:space-x-4",children:[(0,i.jsx)(n.N_,{to:"/",className:"text-gray-800 hover:text-gray-600 transition duration-300",onClick:S,children:"Home"}),(0,i.jsx)(n.N_,{to:"/mumbai-egg-rate",className:"text-gray-800 hover:text-gray-600 transition duration-300",onClick:e=>A("Mumbai",e),children:"Mumbai"}),(0,i.jsx)(n.N_,{to:"/kolkata-egg-rate",className:"text-gray-800 hover:text-gray-600 transition duration-300",onClick:e=>A("Kolkata",e),children:"Kolkata"}),(0,i.jsx)(n.N_,{to:"/lucknow-egg-rate",className:"text-gray-800 hover:text-gray-600 transition duration-300",onClick:e=>A("Lucknow",e),children:"Lucknow"}),(0,i.jsx)(n.N_,{to:"/barwala-egg-rate",className:"text-gray-800 hover:text-gray-600 transition duration-300",onClick:e=>A("Barwala",e),children:"Barwala"}),(0,i.jsx)(n.N_,{to:"/hyderabad-egg-rate",className:"text-gray-800 hover:text-gray-600 transition duration-300",onClick:e=>A("Hyderabad",e),children:"Hyderabad"}),(0,i.jsx)(n.N_,{to:"/chennai-egg-rate",className:"text-gray-800 hover:text-gray-600 transition duration-300",onClick:e=>A("Chennai",e),children:"Chennai"}),(0,i.jsx)(n.N_,{to:"/webstories",className:"text-gray-800 hover:text-gray-600 transition duration-300",children:"Web Stories"})]})}),(0,i.jsx)("div",{className:"w-full md:w-64",children:(0,i.jsx)(l.Ay,{value:x.find((e=>e.value===(d||h))),onChange:e=>{if(!e||k.current)return;k.current=!0;const{type:s,label:r}=e;if("city"===s){const[e,s]=r.split(", ");let o=e;"bangalore"!==o.toLowerCase()&&"bangalore (cc)"!==o.toLowerCase()&&"bengaluru (cc)"!==o.toLowerCase()&&"bengaluru"!==o.toLowerCase()||(o="Bengaluru"),t(o),a(s),setTimeout((()=>{const e="/".concat(o.toLowerCase(),"-egg-rate");v.pathname!==e&&N(e,{replace:!0}),k.current=!1}),5)}else"state"===s&&(t(""),a(r),setTimeout((()=>{const e="/state/".concat(r.toLowerCase(),"-egg-rate");v.pathname!==e&&N(e,{replace:!0}),k.current=!1}),5))},options:x,className:"w-full",styles:{control:e=>(0,s.A)((0,s.A)({},e),{},{backgroundColor:"white",borderColor:"transparent",boxShadow:"none","&:hover":{borderColor:"transparent"},padding:"0.5rem",borderRadius:"0.375rem"}),menu:e=>(0,s.A)((0,s.A)({},e),{},{zIndex:9999}),placeholder:e=>(0,s.A)((0,s.A)({},e),{},{color:"#A0AEC0"})},placeholder:"Select City, State"})})]})})}},9672:(e,t,a)=>{a.r(t),a.d(t,{default:()=>i});var s=a(5043),r=a(3216),o=a(5840),n=a(8533),l=a(1591),c=a(579);const i=()=>{const{slug:e}=(0,r.g)(),t=(0,r.Zp)(),[a,i]=(0,s.useState)(!0),[d,h]=(0,s.useState)(null),[x,m]=(0,s.useState)(""),[u,g]=(0,s.useState)(""),[p,w]=(0,s.useState)(null);(0,s.useEffect)((()=>{(async()=>{try{i(!0);const t=await fetch("/php/get_web_stories.php");if(!t.ok)throw new Error("Failed to fetch web story data");const a=(await t.json()).find((t=>t.slug===e));if(!a)throw new Error("Story not found");w(a),g(a.city),m(a.state);if(!(await fetch("/webstories/".concat(e,".html"),{method:"HEAD"})).ok)throw new Error("Web story content not found")}catch(t){console.error("Error fetching web story:",t),h(t.message||"Failed to load web story")}finally{i(!1)}})()}),[e]);return a?(0,c.jsxs)("div",{className:"bg-gray-50 min-h-screen flex flex-col",children:[(0,c.jsx)(o.A,{selectedState:x,setSelectedState:m,setSelectedCity:g,selectedCity:u}),(0,c.jsx)("div",{className:"container mx-auto p-6 flex-grow flex items-center justify-center",children:(0,c.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-t-2 border-b-2 border-blue-500"})}),(0,c.jsx)(n.A,{})]}):d?(0,c.jsxs)("div",{className:"bg-gray-50 min-h-screen flex flex-col",children:[(0,c.jsx)(o.A,{selectedState:x,setSelectedState:m,setSelectedCity:g,selectedCity:u}),(0,c.jsx)("div",{className:"container mx-auto p-6 flex-grow",children:(0,c.jsxs)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:[(0,c.jsx)("strong",{className:"font-bold",children:"Error: "}),(0,c.jsx)("span",{className:"block sm:inline",children:d}),(0,c.jsx)("button",{onClick:()=>t("/webstories"),className:"mt-4 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:"Back to Web Stories"})]})}),(0,c.jsx)(n.A,{})]}):(0,c.jsxs)("div",{className:"bg-gray-50 min-h-screen flex flex-col",children:[p?(0,c.jsxs)(l.m,{children:[(0,c.jsx)("title",{children:"".concat(p.title," - Today Egg Rates")}),(0,c.jsx)("meta",{name:"description",content:"View the latest egg rates in ".concat(p.city,", ").concat(p.state,". Current price: \u20b9").concat(p.rate," per egg (Updated: ").concat(p.date,")")}),(0,c.jsx)("link",{rel:"canonical",href:"https://todayeggrates.com/webstory/".concat(p.slug)}),(0,c.jsx)("meta",{property:"og:title",content:p.title}),(0,c.jsx)("meta",{property:"og:description",content:"Current egg rate in ".concat(p.city,", ").concat(p.state,": \u20b9").concat(p.rate," (Updated: ").concat(p.date,")")}),(0,c.jsx)("meta",{property:"og:image",content:"https://todayeggrates.com".concat(p.thumbnail)}),(0,c.jsx)("meta",{property:"og:url",content:"https://todayeggrates.com/webstory/".concat(p.slug)}),(0,c.jsx)("meta",{property:"og:type",content:"article"})]}):null,(0,c.jsx)(o.A,{selectedState:x,setSelectedState:m,setSelectedCity:g,selectedCity:u}),(0,c.jsx)("div",{className:"flex-grow relative w-full",style:{height:"calc(100vh - 140px)"},children:(0,c.jsx)("iframe",{src:"/webstories/".concat(e,".html"),title:p?p.title:"Web Story - ".concat(e),className:"w-full h-full absolute inset-0 border-none",allowFullScreen:!0,sandbox:"allow-scripts allow-same-origin allow-popups allow-forms allow-presentation"})}),(0,c.jsxs)("div",{className:"p-4 bg-white shadow-md flex justify-between items-center",children:[(0,c.jsx)("button",{onClick:()=>t("/webstories"),className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:"Back to All Web Stories"}),p&&(0,c.jsxs)("div",{className:"text-right",children:[(0,c.jsxs)("p",{className:"font-bold text-lg",children:["\u20b9",p.rate," per egg"]}),(0,c.jsxs)("p",{className:"text-sm text-gray-600",children:["Updated: ",p.date]})]})]}),(0,c.jsx)(n.A,{})]})}}}]);
//# sourceMappingURL=webstory-viewer.c471bc56.chunk.js.map