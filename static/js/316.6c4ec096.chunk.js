"use strict";(self.webpackChunkfood_price_app=self.webpackChunkfood_price_app||[]).push([[316],{316:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(9950),o=n(4414);const c=e=>{let{contentId:t,blogId:n,isSticky:c=!1}=e;const[s,l]=(0,r.useState)([]),[a,i]=(0,r.useState)(""),[d,u]=(0,r.useState)(!1),h=(0,r.useRef)(null),m=(0,r.useRef)(null);return(0,r.useEffect)((()=>{const e=()=>{const e=document.getElementById(t);if(!e)return;const r=e.querySelectorAll("h2, h3");r.forEach(((e,t)=>{if(!e.id){const t=e.innerText.toLowerCase().replace(/[^\w ]+/g,"").replace(/ +/g,"-");e.id="".concat(n,"-heading-").concat(t)}}));const o=Array.from(r).map((e=>({id:e.id,text:e.innerText,level:"H2"===e.tagName?2:3})));l(o),h.current&&h.current.disconnect(),h.current=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&i(e.target.id)}))}),{rootMargin:"0px 0px -80% 0px"}),r.forEach((e=>h.current.observe(e)))};e(),m.current&&m.current.disconnect();const r=document.getElementById(t);return r&&(m.current=new MutationObserver((t=>{t.some((e=>"childList"===e.type&&(e.addedNodes.length>0||e.removedNodes.length>0)))&&setTimeout(e,100)})),m.current.observe(r,{childList:!0,subtree:!0})),()=>{h.current&&h.current.disconnect(),m.current&&m.current.disconnect()}}),[t,n]),0===s.length?null:(0,o.jsxs)("div",{className:"toc-container bg-white p-4 rounded-lg shadow-md mb-6 ".concat(c?"sticky top-24":""),children:[(0,o.jsxs)("div",{className:"flex justify-between items-center cursor-pointer",onClick:()=>{u(!d)},children:[(0,o.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Table of Contents"}),(0,o.jsx)("button",{"aria-label":d?"Expand":"Collapse",className:"text-gray-600 hover:text-blue-600 focus:outline-none",children:(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 transform transition-transform ".concat(d?"rotate-180":""),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:d?"M19 9l-7 7-7-7":"M5 15l7-7 7 7"})})})]}),!d&&(0,o.jsx)("ul",{className:"space-y-2 mt-3",children:s.map((e=>(0,o.jsx)("li",{className:"toc-item ".concat(3===e.level?"ml-4":""),children:(0,o.jsx)("a",{href:"#".concat(e.id),onClick:t=>{t.preventDefault(),(e=>{const t=document.getElementById(e);t&&window.scrollTo({top:t.offsetTop-100,behavior:"smooth"})})(e.id)},className:"block text-".concat(2===e.level?"md":"sm"," ").concat(a===e.id?"text-blue-600 font-semibold":"text-gray-700 hover:text-blue-600"," transition-colors duration-200"),children:e.text})},e.id)))})]})}}}]);