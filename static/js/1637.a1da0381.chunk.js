"use strict";(self.webpackChunkfood_price_app=self.webpackChunkfood_price_app||[]).push([[1637],{1637:(e,a,t)=>{t.d(a,{A:()=>u});var s=t(9379),r=t(3986),o=t(9950),l=t(9430),n=t(4414);const i=["children"],c=["children"],d=(0,o.memo)((0,o.forwardRef)(((e,a)=>{let{options:t,selectedCity:d,selectedState:u,handleChange:p,isLoading:h,error:x,selectStyles:f,onFocus:g,onBlur:y,isSearchFocused:m}=e;const b=(0,o.useMemo)((()=>{if(!d&&!u)return null;for(const a of t){var e;if(a.options){const e=a.options.find((e=>e.value.toLowerCase()===(d||"").toLowerCase()));if(e)return e}else if((null===(e=a.value)||void 0===e?void 0:e.toLowerCase())===(d||"").toLowerCase())return a}return null}),[d,u,t]),v=(0,o.useMemo)((()=>({IndicatorSeparator:()=>null,LoadingMessage:()=>(0,n.jsxs)("div",{className:"p-2 text-center text-gray-600 dark:text-gray-400",children:[(0,n.jsx)("span",{className:"inline-block animate-spin mr-2",children:"\u27f3"}),"Loading locations..."]}),NoOptionsMessage:e=>(0,n.jsx)("div",{className:"p-2 text-center text-gray-600 dark:text-gray-400",children:x?"Error loading locations":"No locations found"}),Group:e=>{let{children:a}=e,t=(0,r.A)(e,i);return(0,n.jsxs)("div",{className:"py-1",children:[(0,n.jsx)("div",{className:"px-3 py-2 text-sm font-semibold text-gray-700 dark:text-gray-300",children:t.data.label}),a]})},Option:e=>{let{children:a}=e,t=(0,r.A)(e,c);return(0,n.jsx)("div",(0,s.A)((0,s.A)({},t.innerProps),{},{className:"\n          px-3 py-2 cursor-pointer text-gray-700 dark:text-gray-300\n          ".concat(t.isFocused?"bg-blue-50 dark:bg-blue-900/20":"","\n          ").concat(t.isSelected?"bg-blue-100 dark:bg-blue-800":"","\n        "),children:a}))}})),[x]);return(0,n.jsxs)("div",{className:"relative w-full focus-within:z-10",role:"search",children:[(0,n.jsx)(l.Ay,{ref:a,value:b,onChange:p,options:t,isLoading:h,isDisabled:h||x,className:"\n          react-select-container\n          ".concat(m?"react-select-focused":"","\n        "),classNamePrefix:"react-select",styles:f,onFocus:g,onBlur:y,"aria-label":"Search for city or state",inputId:"location-select","aria-describedby":"location-select-help",placeholder:h?"Loading locations...":"Select City",noOptionsMessage:()=>x?"Error loading locations":"No locations found",isClearable:!0,isSearchable:!0,components:v,filterOption:(e,a)=>{var t;if(!a)return!0;const s=a.toLowerCase();return e.label.toLowerCase().includes(s)||((null===(t=e.data)||void 0===t?void 0:t.state)||"").toLowerCase().includes(s)},"aria-invalid":x?"true":"false","aria-busy":h}),x&&(0,n.jsx)("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400 absolute",role:"alert",id:"location-select-error",children:x}),(0,n.jsx)("div",{className:"sr-only",id:"location-select-help",children:"Type to search for a city or state, use arrow keys to navigate results, Enter to select"})]})})));d.displayName="SearchBox";const u=d}}]);