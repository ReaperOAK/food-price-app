"use strict";(self.webpackChunkfood_price_app=self.webpackChunkfood_price_app||[]).push([[7462],{9330:(t,e,r)=>{r.d(e,{A:()=>i});var n=r(9950),a=r(4414);const o=(0,n.memo)((t=>{let{src:e,alt:r,className:o="",width:i,height:c,priority:s=!1,sizes:l,onLoad:d,onError:u,fallbackSrc:h="/logo.webp",blur:w=!0,quality:g="auto"}=t;const[p,m]=(0,n.useState)(!1),[f,b]=(0,n.useState)(!1),[x,y]=(0,n.useState)(!1),v=(0,n.useRef)(null),k=(0,n.useRef)(null),[j,N]=(0,n.useState)({width:i||0,height:c||0}),z=(0,n.useCallback)((()=>{if(i&&c)return N({width:i,height:c}),y(!0),()=>{};{const t=new Image;t.src=e,"loading"in HTMLImageElement.prototype&&!s&&(t.loading="lazy");const r=()=>{b(!0),null===u||void 0===u||u()};return t.onload=()=>{N({width:t.naturalWidth,height:t.naturalHeight}),y(!0),m(!0),null===d||void 0===d||d()},t.onerror=r,()=>{t.onload=null,t.onerror=null}}}),[e,i,c,s,d,u]);(0,n.useEffect)((()=>z()),[z]),(0,n.useEffect)((()=>{if(!s&&v.current&&"IntersectionObserver"in window)return k.current=new IntersectionObserver((t=>{t.forEach((t=>{t.isIntersecting&&v.current&&v.current.setAttribute("fetchpriority","high")}))}),{rootMargin:"50px"}),k.current.observe(v.current),()=>{k.current&&k.current.disconnect()}}),[s]);const C=/w-\d+|h-\d+/.test(o),I=x?j.height/j.width*100:56.25,L=(0,n.useCallback)((()=>{if(l)return l;if(o.includes("w-full"))return"(max-width: 640px) 100vw, (max-width: 768px) 80vw, (max-width: 1024px) 60vw, 1200px";if(o.match(/w-(\d+)\/(\d+)/)){const[,t,e]=o.match(/w-(\d+)\/(\d+)/),r=t/e*100;return"(max-width: 640px) ".concat(r,"vw, (max-width: 768px) ").concat(.8*r,"vw, ").concat(.6*r,"vw")}return"(max-width: 640px) 100vw, (max-width: 768px) 50vw, 33vw"}),[o,l]),E=(0,n.useCallback)((t=>{const e=t.includes("/webstories/"),r=e?"/webstories/optimized/":"/optimized/";return[300,600,900].map((n=>{const a=t.replace(".webp","-".concat(n,".webp")).replace(e?"/webstories/":"/",r);return"".concat(a," ").concat(n,"w")})).concat("".concat(t," 1200w")).join(", ")}),[]);return(0,a.jsxs)("div",{className:"relative overflow-hidden ".concat(C?"":"w-full"),style:{width:i?"".concat(i,"px"):"100%",aspectRatio:j.width&&j.height?"".concat(j.width,"/").concat(j.height):"16/9",contain:"layout paint style"},children:[(0,a.jsx)("div",{style:{paddingTop:"".concat(I,"%"),contain:"strict"},className:"".concat(f?"bg-gray-200 dark:bg-gray-700":"bg-gray-100 dark:bg-gray-800","\n                   transition-colors duration-200"),"aria-hidden":"true"}),!f&&x&&(0,a.jsx)("img",{ref:v,src:e,alt:r,crossOrigin:"anonymous",width:j.width||void 0,height:j.height||void 0,className:"\n            absolute top-0 left-0 w-full h-full object-cover \n            ".concat(o," \n            ").concat(p?"opacity-100 blur-0":"opacity-0 blur-sm","\n            transition-all duration-500\n            motion-reduce:transition-none\n            dark:brightness-90\n          "),loading:s?"eager":"lazy",decoding:s?"sync":"async",sizes:L(),srcSet:E(e),fetchpriority:s||/hero|banner/.test(o.toLowerCase()||o)?"high":"auto",onLoad:t=>{m(!0),v.current&&(v.current.style.transform="translateZ(0)"),null===d||void 0===d||d(t)},onError:t=>{b(!0),t.target.onerror=null,t.target.src=h,null===u||void 0===u||u(t)},style:{contain:"layout paint style",willChange:"transform",transform:"translateZ(0)"}}),f&&(0,a.jsx)("div",{className:"absolute top-0 left-0 w-full h-full flex items-center justify-center bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 transition-colors duration-200",role:"alert","aria-label":"Image failed to load",children:(0,a.jsxs)("div",{className:"flex flex-col items-center space-y-2",children:[(0,a.jsx)("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Image not available"})]})})]})}));o.displayName="OptimizedImage";const i=o}}]);